<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<!-- GenHTML revision 25226-->
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>Creating and Using a Custom Converter - The Java EE 6 Tutorial</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2013-01-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
<link rel="stylesheet" type="text/css" href="css/javaeetutorial.css">
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
   <tr valign="top">
      <td width="400px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="gexaf.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="gfirp.html">Part&nbsp;I&nbsp;Introduction</a></p>
<p class="toc level2"><a href="bnaaw.html">1.&nbsp;&nbsp;Overview</a></p>
<p class="toc level2"><a href="gfiud.html">2.&nbsp;&nbsp;Using the Tutorial Examples</a></p>
<p class="toc level1 tocsp"><a href="bnadp.html">Part&nbsp;II&nbsp;The Web Tier</a></p>
<p class="toc level2"><a href="bnadr.html">3.&nbsp;&nbsp;Getting Started with Web Applications</a></p>
<p class="toc level2"><a href="bnaph.html">4.&nbsp;&nbsp;JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="giepx.html">5.&nbsp;&nbsp;Introduction to Facelets</a></p>
<p class="toc level2"><a href="gjddd.html">6.&nbsp;&nbsp;Expression Language</a></p>
<p class="toc level2"><a href="bnaqz.html">7.&nbsp;&nbsp;Using JavaServer Faces Technology in Web Pages</a></p>
<p class="toc level2"><a href="gjcut.html">8.&nbsp;&nbsp;Using Converters, Listeners, and Validators</a></p>
<p class="toc level2"><a href="bnatx.html">9.&nbsp;&nbsp;Developing with JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="gkmaa.html">10.&nbsp;&nbsp;JavaServer Faces Technology: Advanced Concepts</a></p>
<p class="toc level2"><a href="gkiow.html">11.&nbsp;&nbsp;Using Ajax with JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="gkhxa.html">12.&nbsp;&nbsp;Composite Components: Advanced Topics and Example</a></p>
<p class="toc level2"><a href="bnavg.html">13.&nbsp;&nbsp;Creating Custom UI Components and Other Custom Objects</a></p>
<p class="toc level3"><a href="bnavh.html">Determining Whether You Need a Custom Component or Renderer</a></p>
<p class="toc level4"><a href="bnavh.html#bnavi">When to Use a Custom Component</a></p>
<p class="toc level4"><a href="bnavh.html#bnavj">When to Use a Custom Renderer</a></p>
<p class="toc level4"><a href="bnavh.html#bnavk">Component, Renderer, and Tag Combinations</a></p>
<p class="toc level3 tocsp"><a href="glpcb.html">Understanding the Image Map Example</a></p>
<p class="toc level4"><a href="glpcb.html#glpbd">Why Use JavaServer Faces Technology to Implement an Image Map?</a></p>
<p class="toc level4"><a href="glpcb.html#glpem">Understanding the Rendered HTML</a></p>
<p class="toc level4"><a href="glpcb.html#glpcd">Understanding the Facelets Page</a></p>
<p class="toc level4"><a href="glpcb.html#glpbo">Configuring Model Data</a></p>
<p class="toc level4"><a href="glpcb.html#glpel">Summary of the Image Map Application Classes</a></p>
<p class="toc level3 tocsp"><a href="bnavt.html">Steps for Creating a Custom Component</a></p>
<p class="toc level3"><a href="bnavu.html">Creating Custom Component Classes</a></p>
<p class="toc level4"><a href="bnavu.html#bnavv">Specifying the Component Family</a></p>
<p class="toc level4"><a href="bnavu.html#bnavw">Performing Encoding</a></p>
<p class="toc level4"><a href="bnavu.html#bnavx">Performing Decoding</a></p>
<p class="toc level4"><a href="bnavu.html#bnavy">Enabling Component Properties to Accept Expressions</a></p>
<p class="toc level4"><a href="bnavu.html#bnavz">Saving and Restoring State</a></p>
<p class="toc level3 tocsp"><a href="bnawa.html">Delegating Rendering to a Renderer</a></p>
<p class="toc level4"><a href="bnawa.html#bnawb">Creating the Renderer Class</a></p>
<p class="toc level4"><a href="bnawa.html#bnawc">Identifying the Renderer Type</a></p>
<p class="toc level3 tocsp"><a href="bnaut.html">Implementing an Event Listener</a></p>
<p class="toc level4"><a href="bnaut.html#bnauu">Implementing Value-Change Listeners</a></p>
<p class="toc level4"><a href="bnaut.html#bnauv">Implementing Action Listeners</a></p>
<p class="toc level3 tocsp"><a href="bnawd.html">Handling Events for Custom Components</a></p>
<p class="toc level3"><a href="bnawn.html">Defining the Custom Component Tag in a Tag Library Descriptor</a></p>
<p class="toc level3"><a href="bnatt.html">Using a Custom Component</a></p>
<div id="scrolltoc" class="onpage">
<p class="toc level3"><a href="">Creating and Using a Custom Converter</a></p>
<p class="toc level4"><a href="#glphb">Creating a Custom Converter</a></p>
<p class="toc level4"><a href="#bnatu">Using a Custom Converter</a></p>
</div>
<p class="toc level3 tocsp"><a href="bnauw.html">Creating and Using a Custom Validator</a></p>
<p class="toc level4"><a href="bnauw.html#bnaux">Implementing the Validator Interface</a></p>
<p class="toc level4"><a href="bnauw.html#bnauy">Specifying a Custom Tag</a></p>
<p class="toc level4"><a href="bnauw.html#bnatv">Using a Custom Validator</a></p>
<p class="toc level3 tocsp"><a href="bnatg.html">Binding Component Values and Instances to Managed Bean Properties</a></p>
<p class="toc level4"><a href="bnatg.html#bnati">Binding a Component Value to a Property</a></p>
<p class="toc level4"><a href="bnatg.html#bnatj">Binding a Component Value to an Implicit Object</a></p>
<p class="toc level4"><a href="bnatg.html#bnatl">Binding a Component Instance to a Bean Property</a></p>
<p class="toc level3 tocsp"><a href="bnatm.html">Binding Converters, Listeners, and Validators to Managed Bean Properties</a></p>
<p class="toc level2 tocsp"><a href="bnawo.html">14.&nbsp;&nbsp;Configuring JavaServer Faces Applications</a></p>
<p class="toc level2"><a href="bnafd.html">15.&nbsp;&nbsp;Java Servlet Technology</a></p>
<p class="toc level2"><a href="glrbb.html">16.&nbsp;&nbsp;Uploading Files with Java Servlet Technology</a></p>
<p class="toc level2"><a href="bnaxu.html">17.&nbsp;&nbsp;Internationalizing and Localizing Web Applications</a></p>
<p class="toc level1 tocsp"><a href="bnayk.html">Part&nbsp;III&nbsp;Web Services</a></p>
<p class="toc level2"><a href="gijti.html">18.&nbsp;&nbsp;Introduction to Web Services</a></p>
<p class="toc level2"><a href="bnayl.html">19.&nbsp;&nbsp;Building Web Services with JAX-WS</a></p>
<p class="toc level2"><a href="giepu.html">20.&nbsp;&nbsp;Building RESTful Web Services with JAX-RS</a></p>
<p class="toc level2"><a href="gjjxe.html">21.&nbsp;&nbsp;JAX-RS: Advanced Topics and Example</a></p>
<p class="toc level1 tocsp"><a href="bnblr.html">Part&nbsp;IV&nbsp;Enterprise Beans</a></p>
<p class="toc level2"><a href="gijsz.html">22.&nbsp;&nbsp;Enterprise Beans</a></p>
<p class="toc level2"><a href="gijre.html">23.&nbsp;&nbsp;Getting Started with Enterprise Beans</a></p>
<p class="toc level2"><a href="gijrb.html">24.&nbsp;&nbsp;Running the Enterprise Bean Examples</a></p>
<p class="toc level2"><a href="bnbpk.html">25.&nbsp;&nbsp;A Message-Driven Bean Example</a></p>
<p class="toc level2"><a href="gkcqz.html">26.&nbsp;&nbsp;Using the Embedded Enterprise Bean Container</a></p>
<p class="toc level2"><a href="gkidz.html">27.&nbsp;&nbsp;Using Asynchronous Method Invocation in Session Beans</a></p>
<p class="toc level1 tocsp"><a href="gjbnr.html">Part&nbsp;V&nbsp;Contexts and Dependency Injection for the Java EE Platform</a></p>
<p class="toc level2"><a href="giwhb.html">28.&nbsp;&nbsp;Introduction to Contexts and Dependency Injection for the Java EE Platform</a></p>
<p class="toc level2"><a href="gjbls.html">29.&nbsp;&nbsp;Running the Basic Contexts and Dependency Injection Examples</a></p>
<p class="toc level2"><a href="gjehi.html">30.&nbsp;&nbsp;Contexts and Dependency Injection for the Java EE Platform: Advanced Topics</a></p>
<p class="toc level2"><a href="gkhre.html">31.&nbsp;&nbsp;Running the Advanced Contexts and Dependency Injection Examples</a></p>
<p class="toc level1 tocsp"><a href="bnbpy.html">Part&nbsp;VI&nbsp;Persistence</a></p>
<p class="toc level2"><a href="bnbpz.html">32.&nbsp;&nbsp;Introduction to the Java Persistence API</a></p>
<p class="toc level2"><a href="gijst.html">33.&nbsp;&nbsp;Running the Persistence Examples</a></p>
<p class="toc level2"><a href="bnbtg.html">34.&nbsp;&nbsp;The Java Persistence Query Language</a></p>
<p class="toc level2"><a href="gjitv.html">35.&nbsp;&nbsp;Using the Criteria API to Create Queries</a></p>
<p class="toc level2"><a href="gkjiq.html">36.&nbsp;&nbsp;Creating and Using String-Based Criteria Queries</a></p>
<p class="toc level2"><a href="gkjjf.html">37.&nbsp;&nbsp;Controlling Concurrent Access to Entity Data with Locking</a></p>
<p class="toc level2"><a href="gkjia.html">38.&nbsp;&nbsp;Using a Second-Level Cache with Java Persistence API Applications</a></p>
<p class="toc level1 tocsp"><a href="gijrp.html">Part&nbsp;VII&nbsp;Security</a></p>
<p class="toc level2"><a href="bnbwj.html">39.&nbsp;&nbsp;Introduction to Security in the Java EE Platform</a></p>
<p class="toc level2"><a href="bncas.html">40.&nbsp;&nbsp;Getting Started Securing Web Applications</a></p>
<p class="toc level2"><a href="bnbyk.html">41.&nbsp;&nbsp;Getting Started Securing Enterprise Applications</a></p>
<p class="toc level2"><a href="gjjwx.html">42.&nbsp;&nbsp;Java EE Security: Advanced Topics</a></p>
<p class="toc level1 tocsp"><a href="gijue.html">Part&nbsp;VIII&nbsp;Java EE Supporting Technologies</a></p>
<p class="toc level2"><a href="gijto.html">43.&nbsp;&nbsp;Introduction to Java EE Supporting Technologies</a></p>
<p class="toc level2"><a href="bncih.html">44.&nbsp;&nbsp;Transactions</a></p>
<p class="toc level2"><a href="bncjh.html">45.&nbsp;&nbsp;Resources and Resource Adapters</a></p>
<p class="toc level2"><a href="glodb.html">46.&nbsp;&nbsp;The Resource Adapter Example</a></p>
<p class="toc level2"><a href="bncdq.html">47.&nbsp;&nbsp;Java Message Service Concepts</a></p>
<p class="toc level2"><a href="bncgv.html">48.&nbsp;&nbsp;Java Message Service Examples</a></p>
<p class="toc level2"><a href="gkahp.html">49.&nbsp;&nbsp;Bean Validation: Advanced Topics</a></p>
<p class="toc level2"><a href="gkeed.html">50.&nbsp;&nbsp;Using Java EE Interceptors</a></p>
<p class="toc level1 tocsp"><a href="gkgjw.html">Part&nbsp;IX&nbsp;Case Studies</a></p>
<p class="toc level2"><a href="glnvi.html">51.&nbsp;&nbsp;Duke's Bookstore Case Study Example</a></p>
<p class="toc level2"><a href="gkaee.html">52.&nbsp;&nbsp;Duke's Tutoring Case Study Example</a></p>
<p class="toc level2"><a href="glnpw.html">53.&nbsp;&nbsp;Duke's Forest Case Study Example</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td width="10px">&nbsp;</td>
      <td>
         <div class="header">
             <div class="banner">
                <table width="100%" border="0" cellpadding="5" cellspacing="0">
                   <tbody>
                      <tr>
                         <td valign="bottom"><p class="Banner">The Java EE 6 Tutorial
</p></td>
                         <td align="right"  valign="bottom"><img src="graphics/javalogo.png" alt="Java Coffee Cup logo"></td>
                      </tr>
                   </tbody>
                </table>
             </div>

             <div class="header-links">
	         <a href="./index.html">Home</a> | 
<a href="../information/download.html">Download</a> | 
<a href="./javaeetutorial6.pdf">PDF</a> | 
<a href="../information/faq.html">FAQ</a> | 
<a href="http://docs.oracle.com/javaee/support/feedback.htm">Feedback</a>

             </div>
             <div class="navigation">
                 <a href="bnatt.html"><img src="graphics/leftButton.gif" border="0" alt="Previous" title="Previous"></a>
                 <a href="p1.html"><img src="graphics/upButton.gif" border="0" alt="Contents" title="Contents"></a>
                 <a href="bnauw.html"><img src="graphics/rightButton.gif" border="0" alt="Next" title="Next"></a>
             </div>
         </div>

	 <div class="maincontent">      	 
             

<a name="bnaus"></a><h2>Creating and Using a Custom Converter</h2>
<a name="indexterm-894"></a><p>A JavaServer Faces converter class converts strings to objects and objects to strings
as required. Several standard converters are provided by JavaServer Faces for this purpose.
See  for more information on these included converters.</p>

<p>As explained in <a href="bnaqd.html#bnaqi">Conversion Model</a>, if the standard converters included with JavaServer Faces cannot
perform the data conversion that you need, you can create a custom converter
to perform this specialized conversion. This implementation, at a minimum, must define how to
convert data both ways between the two views of the data described in
<a href="bnaqd.html#bnaqi">Conversion Model</a>.</p>

<p>All custom converters must implement the <tt>javax.faces.convert.Converter</tt> interface. This section explains how
to implement this interface to perform a custom data conversion.</p>

<p>The Duke's Bookstore case study uses a custom <tt>Converter</tt> implementation, located in <tt></tt><i>tut-install</i><tt>/examples/case-studies/dukes-bookstore/src/java/dukesbookstore/converters/CreditCardConverter.java</tt>,
to convert the data entered in the Credit Card Number field on the
<tt>bookcashier.xhtml</tt> page. It strips blanks and hyphens from the text string and formats
it so that a blank space separates every four characters.</p>

<p>Another common use case for a custom converter is in a drop-down
menu for a nonstandard object type. In the Duke's Tutoring case study, the
<tt>Student</tt> and <tt>Guardian</tt> entities require a custom converter so they can be converted
to and from a <tt>UISelectItems</tt> input component.</p>



<a name="glphb"></a><h3>Creating a Custom Converter</h3>
<p>The <tt>CreditCardConverter</tt> custom converter class is created as follows:</p>

<pre>@FacesConverter("ccno")
public class CreditCardConverter implements Converter {
    ...
}</pre><p>The <tt>@FacesConverter</tt> annotation registers the custom converter class as a converter with the
name of <tt>ccno</tt> with the JavaServer Faces implementation. Alternatively, you can register the
converter with entries in the application configuration resource file, as shown in <a href="bnaxe.html">Registering a Custom Converter</a>.</p>

<p><a name="indexterm-895"></a><a name="indexterm-896"></a><a name="indexterm-897"></a><a name="indexterm-898"></a>To define how the data is converted from the presentation view to the
model view, the <tt>Converter</tt> implementation must implement the <tt>getAsObject(FacesContext, UIComponent, String)</tt> method from the <tt>Converter</tt> interface.
Here is the implementation of this method from <tt>CreditCardConverter</tt>:</p>

<pre>@Override
public Object getAsObject(FacesContext context,
        UIComponent component, String newValue)
        throws ConverterException {

    String convertedValue = null;
    if ( newValue == null ) {
        return newValue;
    }
    // Since this is only a String to String conversion,
    // this conversion does not throw ConverterException.
    
    convertedValue = newValue.trim();
    if ( (convertedValue.contains("-")) ||
         (convertedValue.contains(" "))) {
        char[] input = convertedValue.toCharArray();
        StringBuilder builder = new StringBuilder(input.length);
        for ( int i = 0; i &lt; input.length; ++i ) {
            if ( input[i] == &rsquo;-&rsquo; || input[i] == &rsquo; &rsquo;  ) {
                continue;
            } else {
                builder.append(input[i]);
            }
        }
        convertedValue = builder.toString();
    }
    return convertedValue;
}</pre><p><a name="indexterm-899"></a><a name="indexterm-900"></a><a name="indexterm-901"></a><a name="indexterm-902"></a>During the Apply Request Values phase, when the components&rsquo; <tt>decode</tt> methods are
processed, the JavaServer Faces implementation looks up the component&rsquo;s local value in the
request and calls the <tt>getAsObject</tt> method. When calling this method, the JavaServer Faces
implementation passes in the current <tt>FacesContext</tt> instance, the component whose data needs conversion,
and the local value as a <tt>String</tt>. The method then writes the
local value to a character array, trims the hyphens and blanks, adds the
rest of the characters to a <tt>String</tt>, and returns the <tt>String</tt>.</p>

<p><a name="indexterm-903"></a><a name="indexterm-904"></a><a name="indexterm-905"></a>To define how the data is converted from the model view to the
presentation view, the <tt>Converter</tt> implementation must implement the <tt>getAsString(FacesContext, UIComponent, Object)</tt> method from the <tt>Converter</tt> interface.
Here is an implementation of this method:</p>

<pre>@Override
public String getAsString(FacesContext context,
        UIComponent component, Object value)
        throws ConverterException {
    
    String inputVal = null;
    if ( value == null ) {
        return null;
    }
    // value must be of a type that can be cast to a String.
    try {
        inputVal = (String)value;
    } catch (ClassCastException ce) {
        FacesMessage errMsg = new FacesMessage(CONVERSION_ERROR_MESSAGE_ID);
        FacesContext.getCurrentInstance().addMessage(null, errMsg);
        throw new ConverterException(errMsg.getSummary());
    }
    // insert spaces after every four characters for better
    // readability if they are not already present.
    char[] input = inputVal.toCharArray();
    StringBuilder builder = new StringBuilder(input.length + 3);
    for ( int i = 0; i &lt; input.length; ++i ) {
        if ( (i % 4) == 0 &amp;&amp; i != 0) {
            if (input[i] != &rsquo; &rsquo; || input[i] != &rsquo;-&rsquo;){
                builder.append(" ");
                // if there are any "-"&rsquo;s convert them to blanks.
            } else if (input[i] == &rsquo;-&rsquo;) {
                builder.append(" ");
            }
         }
         builder.append(input[i]);
    }
    String convertedValue = builder.toString();
    return convertedValue;
}</pre><p><a name="indexterm-906"></a><a name="indexterm-907"></a><a name="indexterm-908"></a><a name="indexterm-909"></a>During the Render Response phase, in which the components' <tt>encode</tt> methods are
called, the JavaServer Faces implementation calls the <tt>getAsString</tt> method in order to generate the
appropriate output. When the JavaServer Faces implementation calls this method, it passes in
the current <tt>FacesContext</tt>, the <tt>UIComponent</tt> whose value needs to be converted, and
the bean value to be converted. Because this converter does a <tt>String</tt>-to-<tt>String</tt> conversion,
this method can cast the bean value to a <tt>String</tt>.</p>

<p>If the value cannot be converted to a <tt>String</tt>, the method throws an
exception, passing an error message from the resource bundle that is registered with
the application. <a href="bnaxb.html">Registering Application Messages</a> explains how to register custom error messages with the application.</p>

<p>If the value can be converted to a <tt>String</tt>, the method reads the
<tt>String</tt> to a character array and loops through the array, adding a space
after every four characters.</p>

<p>You can also create a custom converter with a <tt>@FacesConverter</tt> annotation that specifies
the <tt>forClass</tt> attribute, as shown in the following example from the Duke's Tutoring
case study:</p>

<pre>@FacesConverter(forClass=Guardian.class)
public class GuardianConverter implements Converter { ...</pre><p>The <tt>forClass</tt> attribute registers the converter as the default converter for the <tt>Guardian</tt>
class. Therefore, whenever that class is specified by a <tt>value</tt> attribute of an input
component, the converter is invoked automatically.</p>

<p>A converter class can be a separate Java POJO class, as in
the Duke's Bookstore and Duke's Tutoring case studies. If it needs to access
objects defined in a managed bean class, however, it can be a subclass
of a JavaServer Faces managed bean, as in the <tt>address-book</tt> persistence example and the
Duke's Forest case study, where the converters use an enterprise bean that is
injected into the managed bean class.</p>



<a name="bnatu"></a><h3>Using a Custom Converter</h3>
<a name="indexterm-910"></a><a name="indexterm-911"></a><a name="indexterm-912"></a><p>To apply the data conversion performed by a custom converter to a
particular component's value, you must do one of the following:</p>


<ul><li><p><a name="indexterm-913"></a><a name="indexterm-914"></a>Reference the converter from the component tag's <tt>converter</tt> attribute.</p>

</li>
<li><p><a name="indexterm-915"></a><a name="indexterm-916"></a>Nest an <tt>f:converter</tt> tag inside the component&rsquo;s tag and reference the custom converter from one of the <tt>f:converter</tt> tag&rsquo;s attributes.</p>

</li></ul>
<p>If you are using the component tag&rsquo;s <tt>converter</tt> attribute, this attribute must reference
the <tt>Converter</tt> implementation&rsquo;s identifier or the fully-qualified class name of the converter. <a href="">Creating and Using a Custom Converter</a>
explains how to implement a custom converter.</p>

<p>The identifier for the credit card converter class is <tt>ccno</tt>, the value specified
in the <tt>@FacesConverter</tt> annotation:</p>

<pre>@FacesConverter("ccno")
public class CreditCardConverter implements Converter {
    ...</pre><p>Therefore, the <tt>CreditCardConverter</tt> instance can be registered on the <tt>ccno</tt> component as shown
in the following example:</p>

<pre>&lt;h:inputText id="ccno"
    size="19"
    converter="ccno"
    value="#{cashier.creditCardNumber}"
    required="true"
    requiredMessage="#{bundle.ReqCreditCard}">
    ...
&lt;/h:inputText></pre><p><a name="indexterm-917"></a>By setting the <tt>converter</tt> attribute of a component&rsquo;s tag to the converter&rsquo;s
identifier or its class name, you cause that component&rsquo;s local value to be
automatically converted according to the rules specified in the <tt>Converter</tt> implementation.</p>

<p>Instead of referencing the converter from the component tag&rsquo;s <tt>converter</tt> attribute, you
can reference the converter from an <tt>f:converter</tt> tag nested inside the component&rsquo;s
tag. To reference the custom converter using the <tt>f:converter</tt> tag, you do one
of the following:</p>


<ul><li><p>Set the <tt>f:converter</tt> tag&rsquo;s <tt>converterId</tt> attribute to the <tt>Converter</tt> implementation&rsquo;s identifier defined in the <tt>@FacesConverter</tt> annotation or in the application configuration resource file. This method is shown in <tt>bookcashier.xhtml</tt>:</p>

<pre>&lt;h:inputText id="ccno" 
             size="19"
             value="#{cashier.creditCardNumber}"
             required="true"
             requiredMessage="#{bundle.ReqCreditCard}" >
    &lt;f:converter converterId="ccno"/>
    &lt;f:validateRegex 
        pattern="\d{16}|\d{4} \d{4} \d{4} \d{4}|\d{4}-\d{4}-\d{4}-\d{4}" /> 
&lt;/h:inputText></pre></li>
<li><p>Bind the <tt>Converter</tt> implementation to a managed bean property using the <tt>f:converter</tt> tag&rsquo;s <tt>binding</tt> attribute, as described in <a href="bnatm.html">Binding Converters, Listeners, and Validators to Managed Bean Properties</a>.</p>

</li></ul>
<p>The JavaServer Faces implementation calls the converter's <tt>getAsObject</tt> method to strip spaces
and hyphens from the input value. The <tt>getAsString</tt> method is called when
the <tt>bookcashier.xhtml</tt> page is redisplayed; this happens if the user orders more than
$100 worth of books.</p>

<p>In the Duke's Tutoring case study, each converter is registered as the converter
for a particular class. The converter is automatically invoked whenever that class is
specified by a <tt>value</tt> attribute of an input component. In the following example,
the <tt>itemValue</tt> attribute (highlighted in bold) calls the converter for the <tt>Guardian</tt> class:</p>

<pre>&lt;h:selectManyListbox id="selectGuardiansMenu"
                     value="#{guardianManager.selectedGuardians}"
                     size="5">
    &lt;f:selectItems value="#{guardianManager.allGuardians}"
                   var="selectedGuardian"
                   itemLabel="#{selectedGuardian.name}"
                   <b>itemValue="#{selectedGuardian}"</b> />
&lt;/h:selectManyListbox></pre>
         </div>
         <div class="navigation">
             <a href="bnatt.html"><img src="graphics/leftButton.gif" border="0" alt="Previous" title="Previous"></a>
             <a href="p1.html"><img src="graphics/upButton.gif" border="0" alt="Contents" title="Contents"></a>
             <a href="bnauw.html"><img src="graphics/rightButton.gif" border="0" alt="Next" title="Next"></a>
         </div>

         <div class="copyright">
      	    <p>Copyright &copy; 2013, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></p>
      	 </div>

      </td>
   </tr>
</tbody>
</table>
<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>
<noscript><p>Scripting on this page tracks web page traffic,
but does not change the content in any way.</p></noscript>
<!-- End SiteCatalyst code -->
</body>
</html>


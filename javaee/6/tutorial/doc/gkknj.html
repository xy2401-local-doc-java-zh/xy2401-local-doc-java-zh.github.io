<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<!-- GenHTML revision 25226-->
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<title>Using JAX-RS With JAXB - The Java EE 6 Tutorial</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2013-01-01">
<link rel="stylesheet" type="text/css" href="css/default.css">
<link rel="stylesheet" type="text/css" href="css/ipg.css">
<link rel="stylesheet" type="text/css" href="css/javaeetutorial.css">
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>

<body>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
   <tr valign="top">
      <td width="400px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="gexaf.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="gfirp.html">Part&nbsp;I&nbsp;Introduction</a></p>
<p class="toc level2"><a href="bnaaw.html">1.&nbsp;&nbsp;Overview</a></p>
<p class="toc level2"><a href="gfiud.html">2.&nbsp;&nbsp;Using the Tutorial Examples</a></p>
<p class="toc level1 tocsp"><a href="bnadp.html">Part&nbsp;II&nbsp;The Web Tier</a></p>
<p class="toc level2"><a href="bnadr.html">3.&nbsp;&nbsp;Getting Started with Web Applications</a></p>
<p class="toc level2"><a href="bnaph.html">4.&nbsp;&nbsp;JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="giepx.html">5.&nbsp;&nbsp;Introduction to Facelets</a></p>
<p class="toc level2"><a href="gjddd.html">6.&nbsp;&nbsp;Expression Language</a></p>
<p class="toc level2"><a href="bnaqz.html">7.&nbsp;&nbsp;Using JavaServer Faces Technology in Web Pages</a></p>
<p class="toc level2"><a href="gjcut.html">8.&nbsp;&nbsp;Using Converters, Listeners, and Validators</a></p>
<p class="toc level2"><a href="bnatx.html">9.&nbsp;&nbsp;Developing with JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="gkmaa.html">10.&nbsp;&nbsp;JavaServer Faces Technology: Advanced Concepts</a></p>
<p class="toc level2"><a href="gkiow.html">11.&nbsp;&nbsp;Using Ajax with JavaServer Faces Technology</a></p>
<p class="toc level2"><a href="gkhxa.html">12.&nbsp;&nbsp;Composite Components: Advanced Topics and Example</a></p>
<p class="toc level2"><a href="bnavg.html">13.&nbsp;&nbsp;Creating Custom UI Components and Other Custom Objects</a></p>
<p class="toc level2"><a href="bnawo.html">14.&nbsp;&nbsp;Configuring JavaServer Faces Applications</a></p>
<p class="toc level2"><a href="bnafd.html">15.&nbsp;&nbsp;Java Servlet Technology</a></p>
<p class="toc level2"><a href="glrbb.html">16.&nbsp;&nbsp;Uploading Files with Java Servlet Technology</a></p>
<p class="toc level2"><a href="bnaxu.html">17.&nbsp;&nbsp;Internationalizing and Localizing Web Applications</a></p>
<p class="toc level1 tocsp"><a href="bnayk.html">Part&nbsp;III&nbsp;Web Services</a></p>
<p class="toc level2"><a href="gijti.html">18.&nbsp;&nbsp;Introduction to Web Services</a></p>
<p class="toc level2"><a href="bnayl.html">19.&nbsp;&nbsp;Building Web Services with JAX-WS</a></p>
<p class="toc level2"><a href="giepu.html">20.&nbsp;&nbsp;Building RESTful Web Services with JAX-RS</a></p>
<p class="toc level2"><a href="gjjxe.html">21.&nbsp;&nbsp;JAX-RS: Advanced Topics and Example</a></p>
<p class="toc level3"><a href="gkkrb.html">Annotations for Field and Bean Properties of Resource Classes</a></p>
<p class="toc level4"><a href="gkkrb.html#gkkya">Extracting Path Parameters</a></p>
<p class="toc level4"><a href="gkkrb.html#gkkxj">Extracting Query Parameters</a></p>
<p class="toc level4"><a href="gkkrb.html#gkkyc">Extracting Form Data</a></p>
<p class="toc level4"><a href="gkkrb.html#gklcq">Extracting the Java Type of a Request or Response</a></p>
<p class="toc level3 tocsp"><a href="gknav.html">Subresources and Runtime Resource Resolution</a></p>
<p class="toc level4"><a href="gknav.html#gklag">Subresource Methods</a></p>
<p class="toc level4"><a href="gknav.html#gkrhr">Subresource Locators</a></p>
<p class="toc level3 tocsp"><a href="gkncy.html">Integrating JAX-RS with EJB Technology and CDI</a></p>
<p class="toc level3"><a href="gkqda.html">Conditional HTTP Requests</a></p>
<p class="toc level3"><a href="gkqbq.html">Runtime Content Negotiation</a></p>
<div id="scrolltoc" class="onpage">
<p class="toc level3"><a href="">Using JAX-RS With JAXB</a></p>
<p class="toc level4"><a href="#gmfrj">Using Java Objects to Model Your Data</a></p>
<p class="toc level4"><a href="#gmfqs">Starting from an Existing XML Schema Definition</a></p>
<p class="toc level4"><a href="#gmfnu">Using JSON with JAX-RS and JAXB</a></p>
</div>
<p class="toc level3 tocsp"><a href="gkoib.html">The <tt>customer</tt> Example Application</a></p>
<p class="toc level4"><a href="gkoib.html#gmggz">Overview of the <tt>customer</tt> Example Application</a></p>
<p class="toc level4"><a href="gkoib.html#gmgcm">The <tt>Customer</tt> and <tt>Address</tt> Entity Classes</a></p>
<p class="toc level4"><a href="gkoib.html#gklgt">The <tt>CustomerService</tt> Class</a></p>
<p class="toc level4"><a href="gkoib.html#gkqjq">The <tt>CustomerClientXML</tt> and <tt>CustomerClientJSON</tt> Classes</a></p>
<p class="toc level4"><a href="gkoib.html#gmgbv">Modifying the Example to Generate Entity Classes from an Existing Schema</a></p>
<p class="toc level5"><a href="gkoib.html#gmgot">To Modify the <tt>customer</tt> Example to Generate Java Entity Classes from an Existing XML Schema Definition</a></p>
<p class="toc level4 tocsp"><a href="gkoib.html#gkqkv">Running the <tt>customer</tt> Example</a></p>
<p class="toc level5"><a href="gkoib.html#gkqly">To Build, Package, and Deploy the <tt>customer</tt> Example Using NetBeans IDE</a></p>
<p class="toc level5"><a href="gkoib.html#gkqjv">To Build, Package, and Deploy the <tt>customer</tt> Example Using Ant</a></p>
<p class="toc level5"><a href="gkoib.html#glhwn">To Run the <tt>customer</tt> Example Using the Jersey Client</a></p>
<p class="toc level5"><a href="gkoib.html#gkqkq">To Run the <tt>customer</tt> Example Using the Web Services Tester</a></p>
<p class="toc level5"><a href="gkoib.html#gkqjl">Using Curl to Run the <tt>customer</tt> Example Application</a></p>
<p class="toc level1 tocsp"><a href="bnblr.html">Part&nbsp;IV&nbsp;Enterprise Beans</a></p>
<p class="toc level2"><a href="gijsz.html">22.&nbsp;&nbsp;Enterprise Beans</a></p>
<p class="toc level2"><a href="gijre.html">23.&nbsp;&nbsp;Getting Started with Enterprise Beans</a></p>
<p class="toc level2"><a href="gijrb.html">24.&nbsp;&nbsp;Running the Enterprise Bean Examples</a></p>
<p class="toc level2"><a href="bnbpk.html">25.&nbsp;&nbsp;A Message-Driven Bean Example</a></p>
<p class="toc level2"><a href="gkcqz.html">26.&nbsp;&nbsp;Using the Embedded Enterprise Bean Container</a></p>
<p class="toc level2"><a href="gkidz.html">27.&nbsp;&nbsp;Using Asynchronous Method Invocation in Session Beans</a></p>
<p class="toc level1 tocsp"><a href="gjbnr.html">Part&nbsp;V&nbsp;Contexts and Dependency Injection for the Java EE Platform</a></p>
<p class="toc level2"><a href="giwhb.html">28.&nbsp;&nbsp;Introduction to Contexts and Dependency Injection for the Java EE Platform</a></p>
<p class="toc level2"><a href="gjbls.html">29.&nbsp;&nbsp;Running the Basic Contexts and Dependency Injection Examples</a></p>
<p class="toc level2"><a href="gjehi.html">30.&nbsp;&nbsp;Contexts and Dependency Injection for the Java EE Platform: Advanced Topics</a></p>
<p class="toc level2"><a href="gkhre.html">31.&nbsp;&nbsp;Running the Advanced Contexts and Dependency Injection Examples</a></p>
<p class="toc level1 tocsp"><a href="bnbpy.html">Part&nbsp;VI&nbsp;Persistence</a></p>
<p class="toc level2"><a href="bnbpz.html">32.&nbsp;&nbsp;Introduction to the Java Persistence API</a></p>
<p class="toc level2"><a href="gijst.html">33.&nbsp;&nbsp;Running the Persistence Examples</a></p>
<p class="toc level2"><a href="bnbtg.html">34.&nbsp;&nbsp;The Java Persistence Query Language</a></p>
<p class="toc level2"><a href="gjitv.html">35.&nbsp;&nbsp;Using the Criteria API to Create Queries</a></p>
<p class="toc level2"><a href="gkjiq.html">36.&nbsp;&nbsp;Creating and Using String-Based Criteria Queries</a></p>
<p class="toc level2"><a href="gkjjf.html">37.&nbsp;&nbsp;Controlling Concurrent Access to Entity Data with Locking</a></p>
<p class="toc level2"><a href="gkjia.html">38.&nbsp;&nbsp;Using a Second-Level Cache with Java Persistence API Applications</a></p>
<p class="toc level1 tocsp"><a href="gijrp.html">Part&nbsp;VII&nbsp;Security</a></p>
<p class="toc level2"><a href="bnbwj.html">39.&nbsp;&nbsp;Introduction to Security in the Java EE Platform</a></p>
<p class="toc level2"><a href="bncas.html">40.&nbsp;&nbsp;Getting Started Securing Web Applications</a></p>
<p class="toc level2"><a href="bnbyk.html">41.&nbsp;&nbsp;Getting Started Securing Enterprise Applications</a></p>
<p class="toc level2"><a href="gjjwx.html">42.&nbsp;&nbsp;Java EE Security: Advanced Topics</a></p>
<p class="toc level1 tocsp"><a href="gijue.html">Part&nbsp;VIII&nbsp;Java EE Supporting Technologies</a></p>
<p class="toc level2"><a href="gijto.html">43.&nbsp;&nbsp;Introduction to Java EE Supporting Technologies</a></p>
<p class="toc level2"><a href="bncih.html">44.&nbsp;&nbsp;Transactions</a></p>
<p class="toc level2"><a href="bncjh.html">45.&nbsp;&nbsp;Resources and Resource Adapters</a></p>
<p class="toc level2"><a href="glodb.html">46.&nbsp;&nbsp;The Resource Adapter Example</a></p>
<p class="toc level2"><a href="bncdq.html">47.&nbsp;&nbsp;Java Message Service Concepts</a></p>
<p class="toc level2"><a href="bncgv.html">48.&nbsp;&nbsp;Java Message Service Examples</a></p>
<p class="toc level2"><a href="gkahp.html">49.&nbsp;&nbsp;Bean Validation: Advanced Topics</a></p>
<p class="toc level2"><a href="gkeed.html">50.&nbsp;&nbsp;Using Java EE Interceptors</a></p>
<p class="toc level1 tocsp"><a href="gkgjw.html">Part&nbsp;IX&nbsp;Case Studies</a></p>
<p class="toc level2"><a href="glnvi.html">51.&nbsp;&nbsp;Duke's Bookstore Case Study Example</a></p>
<p class="toc level2"><a href="gkaee.html">52.&nbsp;&nbsp;Duke's Tutoring Case Study Example</a></p>
<p class="toc level2"><a href="glnpw.html">53.&nbsp;&nbsp;Duke's Forest Case Study Example</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td width="10px">&nbsp;</td>
      <td>
         <div class="header">
             <div class="banner">
                <table width="100%" border="0" cellpadding="5" cellspacing="0">
                   <tbody>
                      <tr>
                         <td valign="bottom"><p class="Banner">The Java EE 6 Tutorial
</p></td>
                         <td align="right"  valign="bottom"><img src="graphics/javalogo.png" alt="Java Coffee Cup logo"></td>
                      </tr>
                   </tbody>
                </table>
             </div>

             <div class="header-links">
	         <a href="./index.html">Home</a> | 
<a href="../information/download.html">Download</a> | 
<a href="./javaeetutorial6.pdf">PDF</a> | 
<a href="../information/faq.html">FAQ</a> | 
<a href="http://docs.oracle.com/javaee/support/feedback.htm">Feedback</a>

             </div>
             <div class="navigation">
                 <a href="gkqbq.html"><img src="graphics/leftButton.gif" border="0" alt="Previous" title="Previous"></a>
                 <a href="p1.html"><img src="graphics/upButton.gif" border="0" alt="Contents" title="Contents"></a>
                 <a href="gkoib.html"><img src="graphics/rightButton.gif" border="0" alt="Next" title="Next"></a>
             </div>
         </div>

	 <div class="maincontent">      	 
             

<a name="gkknj"></a><h2>Using JAX-RS With JAXB</h2>
<a name="indexterm-1311"></a><a name="indexterm-1312"></a><a name="indexterm-1313"></a><a name="indexterm-1314"></a><p>Java Architecture for XML Binding (JAXB) is an XML-to-Java binding technology that simplifies
the development of web services by enabling transformations between schema and Java objects
and between XML instance documents and Java object instances. An XML schema defines
the data elements and structure of an XML document. You can use JAXB
APIs and tools to establish mappings between Java classes and XML schema. JAXB
technology provides the tools that enable you to convert your XML documents to
and from Java objects.</p>

<p>By using JAXB, you can manipulate data objects in the following ways:</p>


<ul><li><p>You can start with an XML schema definition (XSD) and use <tt>xjc</tt>, the JAXB schema compiler tool, to create a set of JAXB-annotated Java classes that map to the elements and types defined in the XSD schema.</p>

</li>
<li><p>You can start with a set of Java classes and use <tt>schemagen</tt>, the JAXB schema generator tool, to generate an XML schema. </p>

</li>
<li><p>Once a mapping between the XML schema and the Java classes exists, you can use the JAXB binding runtime to marshal and unmarshal your XML documents to and from Java objects and use the resulting Java classes to assemble a web services application. </p>

</li></ul>
<p>XML is a common media format that RESTful services consume and produce. To
deserialize and serialize XML, you can represent requests and responses by JAXB annotated
objects.  Your JAX-RS application can use the JAXB objects to manipulate XML
data.  JAXB objects can be used as request entity parameters and response
entities. The JAX-RS runtime environment includes standard <tt>MessageBodyReader</tt> and <tt>MessageBodyWriter</tt> provider interfaces for
reading and writing JAXB objects as entities.</p>

<p>With JAX-RS, you enable access to your services by publishing resources. Resources are
just simple Java classes with some additional JAX-RS annotations. These annotations express the
following:</p>


<ul><li><p>The path of the resource (the URL you use to access it)</p>

</li>
<li><p>The HTTP method you use to call a certain method (for example, the GET or POST method)</p>

</li>
<li><p>The MIME type with which a method accepts or responds</p>

</li></ul>
<p>As you define the resources for your application, consider the type of data
you want to expose. You may already have a relational database that contains
information you want to expose to users, or you may have static
content that does not reside in a database but does need to be
distributed as resources. Using JAX-RS, you can distribute content from multiple sources. 
RESTful web services can use various types of input/output formats for request and
response.  The <tt>customer</tt> example, described in <a href="gkoib.html">The <tt>customer</tt> Example Application</a>, uses XML. </p>

<p>Resources have representations. A resource representation is the content in the HTTP message
that is sent to, or returned from, the resource using the URI. Each
representation a resource supports has a corresponding media type. For example, if a
resource is going to return content formatted as XML, you can use <tt>application/xml</tt>
as the associated media type in the HTTP message.  Depending on the
requirements of your application, resources can return representations in a preferred single format
or in multiple formats. JAX-RS provides <tt>@Consumes</tt> and <tt>@Produces</tt> annotations to declare the media
types that are acceptable for a resource method to read and write.</p>

<p>JAX-RS also maps Java types to and from resource representations using entity providers.
A <tt>MessageBodyReader</tt> entity provider reads a request entity and deserializes the request entity
into a Java type. A <tt>MessageBodyWriter</tt> entity provider serializes from a Java type into
a response entity.  For example, if a <tt>String</tt> value is used
as the request entity parameter, the <tt>MessageBodyReader</tt> entity provider deserializes the request body
into a new <tt>String</tt>. If a JAXB type is used as the return
type on a resource method, the <tt>MessageBodyWriter</tt> serializes the JAXB object into a
response body.</p>

<p>By default, the JAX-RS runtime environment attempts to create and use a default
<tt>JAXBContext</tt> class for JAXB classes. However, if the default <tt>JAXBContext</tt> class is not
suitable, then you can supply a <tt>JAXBContext</tt> class for the application using a JAX-RS
<tt>ContextResolver</tt> provider interface. </p>

<p>The following sections explain how to use JAXB with JAX-RS resource methods.</p>



<a name="gmfrj"></a><h3>Using Java Objects to Model Your Data</h3>
<a name="indexterm-1315"></a><a name="indexterm-1316"></a><a name="indexterm-1317"></a><a name="indexterm-1318"></a><a name="indexterm-1319"></a><p>If you do not have an XML schema definition for the data
you want to expose, you can model your data as Java classes, add
JAXB annotations to these classes, and use JAXB to generate an XML schema
for your data. For example, if the data you want to expose is
a collection of products and each product has an ID, a name, a
description, and a price, you can model it as a Java class as
follows:</p>

<pre>@XmlRootElement(name="product")
@XmlAccessorType(XmlAccessType.FIELD)
public class Product {

    @XmlElement(required=true) 
    protected int id;
    @XmlElement(required=true) 
    protected String name;
    @XmlElement(required=true) 
    protected String description;
    @XmlElement(required=true) 
    protected int price;
    
    public Product() {}
    
    // Getter and setter methods
    // ...
}</pre><p>Run the JAXB schema generator on the command line to generate the
corresponding XML schema definition:</p>

<pre><tt><b>schemagen Product.java</b></tt></pre><p>This command produces the XML schema as an <tt>.xsd</tt> file:</p>

<pre>&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?>
&lt;xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema">

  &lt;xs:element name="product" type="product"/>

  &lt;xs:complexType name="product">
    &lt;xs:sequence>
      &lt;xs:element name="id" type="xs:int"/>
      &lt;xs:element name="name" type="xs:string"/>
      &lt;xs:element name="description" type="xs:string"/>
      &lt;xs:element name="price" type="xs:int"/>
    &lt;/xs:sequence>
  &lt;xs:complexType>
&lt;/xs:schema></pre><p>Once you have this mapping, you can create <tt>Product</tt> objects in your application,
return them, and use them as parameters in JAX-RS resource methods. The JAX-RS
runtime uses JAXB to convert the XML data from the request into a
<tt>Product</tt> object and to convert a <tt>Product</tt> object into XML data for the
response. The following resource class provides a simple example:</p>

<pre>@Path("/product")
public class ProductService {
    @GET
    @Path("/get")
    @Produces("application/xml")
    public Product getProduct() {
        Product prod = new Product();
        prod.setId(1);
        prod.setName("Mattress");
        prod.setDescription("Queen size mattress");
        prod.setPrice(500);
        return prod;
    }

    @POST
    @Path("/create")
    @Consumes("application/xml")
    public Response createProduct(Product prod) {
        // Process or store the product and return a response
        // ...
    }
}</pre><p>Some IDEs, such as NetBeans IDE, will run the schema generator tool automatically
during the build process if you add Java classes that have JAXB annotations
to your project. For a detailed example, see <a href="gkoib.html">The <tt>customer</tt> Example Application</a>. The <tt>customer</tt> example
contains a more complex relationship between the Java classes that model the data,
which results in a more hierarchical XML representation.</p>



<a name="gmfqs"></a><h3>Starting from an Existing XML Schema Definition</h3>
<a name="indexterm-1320"></a><a name="indexterm-1321"></a><a name="indexterm-1322"></a><a name="indexterm-1323"></a><p>If you already have an XML schema definition in an <tt>.xsd</tt> file for
the data you want to expose, use the JAXB schema compiler tool.
Consider this simple example of an <tt>.xsd</tt> file:</p>

<pre>&lt;?xml version="1.0"?>
&lt;xs:schema targetNamespace="http://xml.product" 
           xmlns:xs="http://www.w3.org/2001/XMLSchema"    
           elementFormDefault="qualified"
           xmlns:myco="http://xml.product">

  &lt;xs:element name="product" type="myco:Product"/>

  &lt;xs:complexType name="Product">
    &lt;xs:sequence>
      &lt;xs:element name="id" type="xs:int"/>
      &lt;xs:element name="name" type="xs:string"/>
      &lt;xs:element name="description" type="xs:string"/>
      &lt;xs:element name="price" type="xs:int"/>
    &lt;/xs:sequence>
  &lt;/xs:complexType>
&lt;/xs:schema></pre><p>Run the schema compiler tool on the command line as follows:</p>

<pre><tt><b>xjc Product.xsd</b></tt></pre><p>This command generates the source code for Java classes that correspond to the
types defined in the <tt>.xsd</tt> file. The schema compiler tool generates a Java
class for each <tt>complexType</tt> defined in the <tt>.xsd</tt> file. The fields of each
generated Java class are the same as the elements inside the corresponding <tt>complexType</tt>, and
the class contains getter and setter methods for these fields.</p>

<p>In this case the schema compiler tool generates the classes <tt>product.xml.Product</tt> and
<tt>product.xml.ObjectFactory</tt>. The <tt>Product</tt> class contains JAXB annotations, and its fields correspond to those
in the <tt>.xsd</tt> definition:</p>

<pre>@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "Product", propOrder = {
    "id",
    "name",
    "description",
    "price"
})
public class Product {
    protected int id;
    @XmlElement(required = true)
    protected String name;
    @XmlElement(required = true)
    protected String description;
    protected int price;

    // Setter and getter methods
    // ...
}</pre><p>You can create instances of the <tt>Product</tt> class from your application (for example,
from a database). The generated class <tt>product.xml.ObjectFactory</tt> contains a method that allows
you to convert these objects to JAXB elements that can be returned as
XML inside JAX-RS resource methods:</p>

<pre>@XmlElementDecl(namespace = "http://xml.product", name = "product")
public JAXBElement&lt;Product> createProduct(Product value) {
  return new JAXBElement&lt;Product>(_Product_QNAME, Product.class, null, value);
}</pre><p>The following code shows how to use the generated classes to return a
JAXB element as XML in a JAX-RS resource method:</p>

<pre>@Path("/product")
public class ProductService {
    @GET
    @Path("/get")
    @Produces("application/xml")
    public JAXBElement&lt;Product> getProduct() {
        Product prod = new Product();
        prod.setId(1);
        prod.setName("Mattress");
        prod.setDescription("Queen size mattress");
        prod.setPrice(500);
        return new ObjectFactory().createProduct(prod);
    }
}</pre><p>For <tt>@POST</tt> and <tt>@PUT</tt> resource methods, you can use a <tt>Product</tt> object directly
as a parameter. JAX-RS maps the XML data from the request into a
<tt>Product</tt> object.</p>

<pre>@Path("/product")
public class ProductService {
    @GET
    // ...

    @POST
    @Path("/create")
    @Consumes("application/xml")
    public Response createProduct(Product prod) {
        // Process or store the product and return a response
        // ...
    }
}</pre><p>Some IDEs, such as NetBeans IDE, will run the schema compiler tool automatically
during the build process if you add an <tt>.xsd</tt> file to your project
sources. For a detailed example, see <a href="gkoib.html#gmgbv">Modifying the Example to Generate Entity Classes from an Existing Schema</a>. The modified <tt>customer</tt> example contains a
more hierarchical XML schema definition, which results in a more complex relationship between the
Java classes that model the data.</p>



<a name="gmfnu"></a><h3>Using JSON with JAX-RS and JAXB</h3>
<a name="indexterm-1324"></a><a name="indexterm-1325"></a><a name="indexterm-1326"></a><p>JAX-RS can automatically read and write XML using JAXB, but it can
also work with JSON data. JSON is a simple text-based format for data
exchange derived from JavaScript. For the examples above, the XML representation of a product
is:</p>

<pre>&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;product>
  &lt;id>1&lt;/id>
  &lt;name>Mattress&lt;/name>
  &lt;description>Queen size mattress&lt;/description>
  &lt;price>500&lt;/price>
&lt;/product></pre><p>The equivalent JSON representation is:</p>

<pre>{
    "id":"1",
    "name":"Mattress",
    "description":"Queen size mattress",
    "price":500
}</pre><p>You can add the format <tt>application/json</tt> to the <tt>@Produces</tt> annotation in resource
methods to produce responses with JSON data:</p>

<pre>@GET
@Path("/get")
@Produces({"application/xml","application/json"})
public Product getProduct() { ... }</pre><p>In this example the default response is XML, but the response is
a JSON object if the client makes a <tt>GET</tt> request that includes this header:</p>

<pre>Accept: application/json</pre><p>The resource methods can also accept JSON data for JAXB annotated classes:</p>

<pre>@POST
@Path("/create")
@Consumes({"application/xml","application/json"})
public Response createProduct(Product prod) { ... }</pre><p>The client should include the following header when submitting JSON data with a
<tt>POST</tt> request:</p>

<pre>Content-Type: application/json</pre>
         </div>
         <div class="navigation">
             <a href="gkqbq.html"><img src="graphics/leftButton.gif" border="0" alt="Previous" title="Previous"></a>
             <a href="p1.html"><img src="graphics/upButton.gif" border="0" alt="Contents" title="Contents"></a>
             <a href="gkoib.html"><img src="graphics/rightButton.gif" border="0" alt="Next" title="Next"></a>
         </div>

         <div class="copyright">
      	    <p>Copyright &copy; 2013, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></p>
      	 </div>

      </td>
   </tr>
</tbody>
</table>
<!-- Start SiteCatalyst code   -->
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code_download.js"></script>
<script language="JavaScript" src="http://www.oracle.com/ocom/groups/systemobject/@mktg_admin/documents/systemobject/s_code.js"></script>
 
<!-- ********** DO NOT ALTER ANYTHING BELOW THIS LINE ! *********** -->
<!--  Below code will send the info to Omniture server -->
<script language="javascript">var s_code=s.t();if(s_code)document.write(s_code)</script>
<noscript><p>Scripting on this page tracks web page traffic,
but does not change the content in any way.</p></noscript>
<!-- End SiteCatalyst code -->
</body>
</html>


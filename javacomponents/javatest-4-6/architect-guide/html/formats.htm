<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Formats and Specifications</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.24" />
<meta name="date" content="2014-08-01T11:38:1Z" />
<meta name="robots" content="noarchive" />
<meta name="doctitle" content="Formats and Specifications" />
<meta name="relnum" content="JavaTest Harness 4.6" />
<meta name="partnum" content="E20663-04" />
<link rel="copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="stylesheet" href="../../dcommon/css/blafdoc.css" title="Oracle BLAFDoc" type="text/css" />
<link rel="contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="index" href="index.htm" title="Index" type="text/html" />
<link rel="prev" href="stdcmds.htm" title="Previous" type="text/html" />
<link rel="next" href="writers.htm" title="Next" type="text/html" />
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<div class="header"><a id="top" name="top"></a>
<div class="zz-skip-header"><a href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>JavaTest Harness Architect's Guide,</b><br />
<b>JavaTest Harness 4.6 for the Java Platform</b><br />
E20663-04</td>
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go To Table Of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img src="../../dcommon/gifs/index.gif" alt="Go To Index" /><br />
<span class="icon">Index</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<tr>
<td align="center"><a href="stdcmds.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Previous" /><br />
<span class="icon">Previous</span></a>&nbsp;</td>
<td align="center"><a href="writers.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Next" /><br />
<span class="icon">Next</span></a></td>
<td>&nbsp;</td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<!-- class="header" -->
<div class="ind"><!-- End Header --><a id="Z400365d16912" name="Z400365d16912"></a>
<h1 class="appendix"><span class="secnum">B</span> Formats and Specifications</h1>
<p>This appendix describes file formats and specifications that test architects should know about.</p>
<a id="CEHEFDIB" name="CEHEFDIB"></a>
<div class="sect1">
<h2 class="sect1">Test URL Specification</h2>
<p><a id="sthref382" name="sthref382"></a><a id="sthref383" name="sthref383"></a><a id="sthref384" name="sthref384"></a>This specification describes how test files must be named to work properly with the JavaTest harness.</p>
<p>The JavaTest harness converts the native path names of tests to an internal format called a <span class="italic">test URL</span>. When the JavaTest harness converts a path name to a test URL, it:</p>
<ul>
<li>
<p>Makes the path relative to the root of the test suite</p>
</li>
<li>
<p>Converts the path separator to a forward slash</p>
</li>
</ul>
<p>A test URL consists of three components:</p>
<ul>
<li>
<p>The folder/directory path name (relative to the test suite <code>tests</code> directory)</p>
</li>
<li>
<p>The name of the file that contains the test description</p>
</li>
<li>
<p>An optional <span class="italic">test identifier</span> can be appended to designate a test description table within a test description file</p>
</li>
</ul>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn">
api/javatest/TestSuite.html#getName
</pre>
<p>The JavaTest harness evaluates test URLs without regard to case; however, it does preserve case when possible to increase readability for the user.</p>
<p>The path names you create can contain only the following characters:</p>
<ul>
<li>
<p>ISO Latin 1 characters A-Z and a-z</p>
</li>
<li>
<p>Digits 0-9</p>
</li>
<li>
<p>Underscore character "_"</p>
</li>
<li>
<p>Dash character "-"</p>
</li>
<li>
<p>Period character "." (<span class="italic">deprecated</span>)</p>
</li>
<li>
<p>Open and close parentheses (<span class="italic">deprecated</span>)</p>
</li>
</ul>
<p>Test URLs must never contain whitespace characters.</p>
<p>Deprecated characters are included for backward compatibility; please do not use them as they might become unsupported in future releases. Whenever possible, use short names to make best use of screen real estate.</p>
<div align="center">
<div class="inftblnote"><br />
<table class="Note oac_no_warn" summary="" border="1" width="80%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<td align="left">
<p class="notep1">Note:</p>
<p>When the result file (<code>.jtr</code>) is created, the text after the last period is omitted.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblnote" --></div>
<p>The test identifier may only contain the following characters:</p>
<ul>
<li>
<p>ISO Latin 1 characters A-Z and a-z</p>
</li>
<li>
<p>Digits 0-9</p>
</li>
<li>
<p>Underscore character "_"</p>
</li>
</ul>
<a id="Z400365d16840" name="Z400365d16840"></a>
<div class="sect2">
<h3 class="sect2">Test Paths</h3>
<p>An <span class="italic">test path</span> can be used by a user to specify a particular subset of tests in the test suite hierarchy; for example, in the Tests tab of the JavaTest configuration editor (Standard Values view).</p>
<p>Initial URLs specify a set of tests in the following ways:</p>
<ul>
<li>
<p>A folder that contains one or more tests</p>
</li>
<li>
<p>A file that contains one or more tests</p>
</li>
<li>
<p>A single, complete test URL</p>
</li>
</ul>
<p>The test path conforms to the rules specified in the previous section, but is not required to resolve the complete URL. If the test path is an incomplete test URL (for example, a folder), the JavaTest harness generates a list of the tests' URLs contained hierarchically beneath it.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="Z400365d16887" name="Z400365d16887"></a>
<div class="sect1">
<h2 class="sect1">Exclude List File Format</h2>
<p><a id="sthref385" name="sthref385"></a>Test suites use the exclude list mechanism to identify tests that should not be run. The JavaTest harness consults the exclude list when it selects tests to run, and does not run the tests on the list. Excluded tests normally appear as <span class="italic">filtered out</span> in the JavaTest test tree.</p>
<p>When the JavaTest harness is used with TCK test suites, the exclude list mechanism is used to determine the correct set of tests that must be executed for certification. The exclude list mechanism is a mechanism for "removing" broken or invalid tests in the field without having to ship a new test suite.</p>
<a id="Z400365d16846" name="Z400365d16846"></a>
<div class="sect2">
<h3 class="sect2">Syntax</h3>
<p><a id="sthref386" name="sthref386"></a>The exclude list is a four-column table that uses ISO Latin 1 (ISO 8859-1) character encoding. Lines that are completely empty or contain only whitespace (space, tab, newline) are allowed. Comment lines begin with the "#" character. Each line has the following format:</p>
<p><span class="italic">Test_URL</span><code>[</code><span class="italic">Test_Cases</span><code>]</code> <span class="italic">BugID_List</span> <span class="italic">Keywords</span> <span class="italic">Synopsis</span></p>
<p>For example:</p>
<p>api/index.html#attributes[Char2067] 4758373 reference,test Bug is intermittent</p>
<div class="tblhruleformal"><a id="sthref387" name="sthref387"></a><a id="Z400365d16021" name="Z400365d16021"></a>
<p class="titleintable">Table B-1 Exclude List Field Descriptions</p>
<table class="HRuleFormal" title="Exclude List Field Descriptions" summary="Add Summary attribute value here." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="27%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t3">Field</th>
<th align="left" valign="bottom" id="r1c2-t3">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t3" headers="r1c1-t3">
<p>Test_URL[Test_Cases]</p>
</td>
<td align="left" headers="r2c1-t3 r1c2-t3">
<p>The URL of the test to be excluded. This field can specify an entire test or can use the Test_Cases parameter to specify a subset of its test cases. The test cases field is optional and the brackets must not be present if the field is empty.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t3" headers="r1c1-t3">
<p>BugID_List</p>
</td>
<td align="left" headers="r3c1-t3 r1c2-t3">
<p>A comma-separated (no spaces) list of bug identifiers associated with the excluded test.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t3" headers="r1c1-t3">
<p>Keywords</p>
</td>
<td align="left" headers="r4c1-t3 r1c2-t3">
<p>A comma-separated (no spaces) list of keywords that can be used to classify exclusions. The particular values are project specific.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t3" headers="r1c1-t3">
<p>Synopsis</p>
</td>
<td align="left" headers="r5c1-t3 r1c2-t3">
<p>A short comment that describes the reason the test is excluded. This optional field is recommended because it helps track entries on the exclude list.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformal" -->
<p>Each field is separated by spaces and/or tabs. A line break terminates the entry. There is no way to indicate that the entry continues on the next line. Comments can appear on any line of the file, see the rules below.</p>
<p>Although it is not recommended, you can omit the synopsis, keywords, or bugID_List field; however, the entry is only valid if everything to the right of the omitted field is also omitted. For example, you cannot omit a bugID and include a keyword; but you can include a bugID and omit the keywords and synopsis.</p>
<a id="Z400365d16806" name="Z400365d16806"></a>
<div class="sect3">
<h4 class="sect3">Test URL and Test Cases</h4>
<p>Entries must not specify overlapping test cases. For example, you cannot exclude an entire test and then exclude a test case inside that test. These two entries can never appear in the same file:</p>
<pre xml:space="preserve" class="oac_no_warn">
api/java_lang/Character/index.html#attributesFullRange
</pre>
<pre xml:space="preserve" class="oac_no_warn">
api/java_lang/Character/index.html#attributesFullRange[Character2067]
</pre>
<p>The URL must specify a specific test or test case. Entire subsections of the test suite cannot be excluded with a single entry. Continuing with the API example, if a test suite is rooted at the <span class="italic">ts_dir</span><code>\tests</code> directory and the <code>index.html</code> file contains many test descriptions, all of the following test URLs are invalid:</p>
<pre xml:space="preserve" class="oac_no_warn">
api
api/java_lang/
api/java_lang/Character
api/java_lang/Character/index.html
tests/api/java_lang/xyz
java_lang/xyz
</pre>
<p>You can exclude individual test cases within a test description by appending a list of those tests cases at the end of the test URL. The list of test cases must be enclosed within square brackets. The list of test cases is separated by commas with no internal whitespace. There is no whitespace between the end of the test URL and the opening square brackets. The following figure shows valid test URL entries:</p>
<pre xml:space="preserve" class="oac_no_warn">
vm/instr/ifnull/ifnull003/ifnull00303m1/ifnull00303m1.html
api/java_beans/beancontext/BeanContextMembershipEvent/index.html#Constructor
api/java_lang/Character/index.html#attributesFullRange[Character2067]
api/SystemFlavorMap/index.html#method[SystemFlavorMap0001,SystemFlavorMap0004]
</pre>
<p>For information about constructing valid test URLs, see <a href="#CEHEFDIB">Test URL Specification</a>.</p>
</div>
<!-- class="sect3" -->
<a id="Z400365d16815" name="Z400365d16815"></a>
<div class="sect3">
<h4 class="sect3">BugIDs</h4>
<p>The list of bug IDs is separated by commas, and contains no whitespace characters. Items in the BugID_List are entries that correspond to a bug in a bug tracking system. Letters, integers, dashes and underscore characters are valid.</p>
</div>
<!-- class="sect3" -->
<a id="Z400365d16819" name="Z400365d16819"></a>
<div class="sect3">
<h4 class="sect3">Keywords</h4>
<p>It is recommended that keyword entries be no longer than 20 characters long. Keyword entries must start with a letter and can contain letters, numbers, and the underscore character. The list of keywords is separated by commas, without any whitespace characters.</p>
</div>
<!-- class="sect3" -->
<a id="Z400365d16823" name="Z400365d16823"></a>
<div class="sect3">
<h4 class="sect3">Synopsis</h4>
<p>Any description or notes about a particular entry. There are no special restrictions on the content of this field. It is recommended that the field contain no more than 100 characters.</p>
</div>
<!-- class="sect3" -->
<a id="Z400365d16827" name="Z400365d16827"></a>
<div class="sect3">
<h4 class="sect3">Comments and Header Information</h4>
<p>Comments always extend from column zero of a line to end of the line. To be a comment line, the character in column zero must be "<code>#</code>"; two consecutive "<code>#</code>" characters at the beginning of a line are allowed, but the use of three or more is reserved.</p>
<p>Optional (but recommended) header lines can be added to your exclude list file to improve readability. Header lines always begin with "<code>###</code>" and can be used to designate titles, and revision histories. The format is:</p>
<pre xml:space="preserve" class="oac_no_warn">
### <span class="italic">header_type</span> <span class="italic">headingcontent...</span>
</pre>
<p>The case-sensitive header type specification is separated from the "<code>###</code>" prefix by white space characters, the heading content is separated from the header type specification by more whitespace characters. These values should appear only once in any exclude list file, and it is recommended that they be placed at the top of the file. Currently, the only supported header type is "title". The title describes the exclude list and must be terminated with a newline.</p>
<p>The following is an example of a valid exclude list:</p>
<pre xml:space="preserve" class="oac_no_warn">
### title My example exclude list
### revised Mon Jul 23 18:15:04 PDT 2001
api/java_lang/runtimetest.java
# this is a comment line
api/index.html#attributes[Char2067] 1234567 reference,test Invalid assumption 
## this is another comment line
api/mytest.java#1 1234568,987654321 spec
</pre></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td valign="bottom">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<col width="*" />
<col width="48%" />
<col width="48%" />
<tr>
<td>&nbsp;</td>
<td align="center"><a href="stdcmds.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Previous" /><br />
<span class="icon">Previous</span></a>&nbsp;</td>
<td align="center"><a href="writers.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Next" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="copyrightlogo"><img class="copyrightlogo" src="../../dcommon/gifs/oracle.gif" alt="Oracle Logo" /><br />
<span class="copyrightlogo">Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span> <a href="../../dcommon/html/cpyr.htm"><br />
<span class="copyrightlogo">Legal Notices</span></a></td>
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go To Table Of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img src="../../dcommon/gifs/index.gif" alt="Go To Index" /><br />
<span class="icon">Index</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!-- class="footer" -->
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>Compiling Test Suites</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.24" />
<meta name="date" content="2014-08-01T11:38:1Z" />
<meta name="robots" content="noarchive" />
<meta name="doctitle" content="Compiling Test Suites" />
<meta name="relnum" content="JavaTest Harness 4.6" />
<meta name="partnum" content="E20663-04" />
<link rel="copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="stylesheet" href="../../dcommon/css/blafdoc.css" title="Oracle BLAFDoc" type="text/css" />
<link rel="contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="index" href="index.htm" title="Index" type="text/html" />
<link rel="prev" href="part2.htm" title="Previous" type="text/html" />
<link rel="next" href="testsuite.htm" title="Next" type="text/html" />
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<div class="header"><a id="top" name="top"></a>
<div class="zz-skip-header"><a href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>JavaTest Harness Architect's Guide,</b><br />
<b>JavaTest Harness 4.6 for the Java Platform</b><br />
E20663-04</td>
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go To Table Of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img src="../../dcommon/gifs/index.gif" alt="Go To Index" /><br />
<span class="icon">Index</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<tr>
<td align="center"><a href="part2.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Previous" /><br />
<span class="icon">Previous</span></a>&nbsp;</td>
<td align="center"><a href="testsuite.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Next" /><br />
<span class="icon">Next</span></a></td>
<td>&nbsp;</td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<!-- class="header" -->
<div class="ind"><!-- End Header --><a id="CGFCDEDA" name="CGFCDEDA"></a>
<h1 class="chapter"><span class="secnum">7</span> Compiling Test Suites</h1>
<p><a id="sthref228" name="sthref228"></a>Depending on how you design your test suite, you may be able to use the JavaTest harness to compile your tests when building your test suite. The instructions below describe how to compile tests if your test suite uses the Simple Interview and Standard Test Script (<code>StdTestScript</code>) as described in <a href="junit.htm#BBJJDGBB">Chapter 12</a>. To use the JavaTest harness to compile your tests you must:</p>
<ul>
<li>
<p>Specify the source files required to compile them in the tests' test descriptions</p>
</li>
<li>
<p>Set two system properties on the JavaTest command line</p>
</li>
</ul>
<a id="Z40001a619358" name="Z40001a619358"></a>
<div class="sect1">
<h2 class="sect1">System Properties</h2>
<p>The following table describes the system properties used in compilation:</p>
<div class="tblhruleformalwide"><a id="sthref229" name="sthref229"></a><a id="Z400363d18657" name="Z400363d18657"></a>
<p class="titleintable">Table 7-1 System Properties Used in Compilation</p>
<table class="HRuleFormalWide" title="System Properties Used in Compilation" summary="Add Summary attribute value here." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="40%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t2">System Property</th>
<th align="left" valign="bottom" id="r1c2-t2">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t2" headers="r1c1-t2">
<p><code>SimpleInterviewParameters.mode</code></p>
</td>
<td align="left" headers="r2c1-t2 r1c2-t2">
<p>Specifies the operating mode used by this configuration. The valid values are:</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t2" headers="r1c1-t2">
<p>certify</p>
</td>
<td align="left" headers="r3c1-t2 r1c2-t2">
<p>Executes test suite classes (assumes that tests are already compiled)</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t2" headers="r1c1-t2">
<p>precompile</p>
</td>
<td align="left" headers="r4c1-t2 r1c2-t2">
<p>Compiles the tests</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t2" headers="r1c1-t2">
<p><code>developer</code></p>
</td>
<td align="left" headers="r5c1-t2 r1c2-t2">
<p>Compiles the tests and runs them</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t2" headers="r1c1-t2">
<p><code>command.compile.java</code></p>
</td>
<td align="left" headers="r6c1-t2 r1c2-t2">
<p>Specifies the command that the JavaTest harness uses to compile the tests.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<p><a id="sthref230" name="sthref230"></a>These properties are set on the JavaTest command line using the <code>-D</code> option, usually when running the JavaTest harness in batch mode in a shell script or batch command (see the JavaTest online help for details about batch mode).</p>
<p>You can use the following command lines as templates for compiling the simple test suite you created in <a href="createts.htm#CJBGJHDB">Chapter 4</a>:</p>
<p>Windows:</p>
<pre xml:space="preserve" class="oac_no_warn">
java  -DSimpleInterviewParameters.mode=precompile 
      -Dcommand.compile.java='com.sun.javatest.lib.ProcessCommand 
javac -d $testSuiteRootDir\classes -classpath $testSuiteRootDir\classes
       $testSource -jar javatest.jar -batch -testsuite <span class="italic">ts_dir</span> 
      -workdir -overwrite <span class="italic">work_dir</span> -report <span class="italic">report_dir</span>
</pre>
<p>UNIX:</p>
<pre xml:space="preserve" class="oac_no_warn">
java  -DSimpleInterviewParameters.mode=precompile 
      -Dcommand.compile.java='com.sun.javatest.lib.ProcessCommand 
javac -d $testSuiteRootDir/classes -classpath $testSuiteRootDir/classes 
       $testSource -jar javatest.jar -batch -testsuite <span class="italic">ts_dir</span> 
      -workdir -overwrite <span class="italic">work_dir</span> -report <span class="italic">report_dir</span>
</pre>
<div align="center">
<div class="inftblnote"><br />
<table class="Note oac_no_warn" summary="" border="1" width="80%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<td align="left">
<p class="notep1">Note:</p>
<p>Line breaks are added here to improve readability; your command line should be a single line that contains no line breaks.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblnote" --></div>
<p><a href="#Z40006e418670">Table 7-2</a> describes the parts of the command:</p>
<div class="tblhruleformalwide"><a id="sthref231" name="sthref231"></a><a id="Z40006e418670" name="Z40006e418670"></a>
<p class="titleintable">Table 7-2 Compilation Command Components&nbsp;</p>
<table class="HRuleFormalWide" title="Compilation Command Components " summary="Add Summary attribute value here." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="42%" />
<col width="*" />
<tbody>
<tr align="left" valign="top">
<td align="left" id="r1c1-t4">
<p>Component</p>
</td>
<td align="left">
<p>Description</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r2c1-t4">
<p><a id="sthref232" name="sthref232"></a><code>com.sun.javatest.lib.ProcessCommand</code></p>
</td>
<td align="left" headers="r2c1-t4">
<p>The library command used to run processes (in this case the Java compiler) on the same machine as the one the JavaTest harness is running. See for more information about this and other library commands.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t4">
<p><code>$testSuiteRootDir</code></p>
</td>
<td align="left" headers="r3c1-t4">
<p>The JavaTest variable that represents the root directory of the test suite. This value is provided by the JavaTest harness when the command is executed. This value is taken from the path you specify to the <code>-testsuite</code> option.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t4">
<p><code>$testSource</code></p>
</td>
<td align="left" headers="r4c1-t4">
<p>The JavaTest variable that represents the test source file to compile. This value is provided by the JavaTest harness.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t4">
<p><a id="sthref233" name="sthref233"></a><a id="sthref234" name="sthref234"></a><code>-batch</code></p>
</td>
<td align="left" headers="r5c1-t4">
<p>Specifies that the JavaTest harness be executed in "batch" mode. When run in batch mode the JavaTest GUI is not started. See the JavaTest online help for more information.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t4">
<p><a id="sthref235" name="sthref235"></a><code>-testsuite</code></p>
</td>
<td align="left" headers="r6c1-t4">
<p>The fully qualified path name of the top-level test suite directory.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t4">
<p><a id="sthref236" name="sthref236"></a><a id="sthref237" name="sthref237"></a><code>-workdir -overwrite</code> <span class="italic">work_dir</span></p>
</td>
<td align="left" headers="r7c1-t4">
<p>Specifies the name of the work directory to use for the compilation. The <code>-overwrite</code> option causes the JavaTest harness to first delete (if it exists) and create the specified work directory. It's generally a good idea to create fresh results each time you recompile.</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t4">
<p><a id="sthref238" name="sthref238"></a><a id="sthref239" name="sthref239"></a><code>-report</code> <span class="italic">report_dir</span></p>
</td>
<td align="left" headers="r8c1-t4">
<p>Specifies the name of the directory where reports are to be written. It is best to specify <span class="italic">report_dir</span> as a simple file name (no "\" or "/" characters; this causes the reports to be written in <span class="italic">work_dir</span><code>\reports\</code><span class="italic">report_dir</span>.</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td valign="bottom">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<col width="*" />
<col width="48%" />
<col width="48%" />
<tr>
<td>&nbsp;</td>
<td align="center"><a href="part2.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Previous" /><br />
<span class="icon">Previous</span></a>&nbsp;</td>
<td align="center"><a href="testsuite.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Next" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="copyrightlogo"><img class="copyrightlogo" src="../../dcommon/gifs/oracle.gif" alt="Oracle Logo" /><br />
<span class="copyrightlogo">Copyright&nbsp;&copy;&nbsp;2002, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span> <a href="../../dcommon/html/cpyr.htm"><br />
<span class="copyrightlogo">Legal Notices</span></a></td>
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go To Table Of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img src="../../dcommon/gifs/index.gif" alt="Go To Index" /><br />
<span class="icon">Index</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!-- class="footer" -->
</body>
</html>

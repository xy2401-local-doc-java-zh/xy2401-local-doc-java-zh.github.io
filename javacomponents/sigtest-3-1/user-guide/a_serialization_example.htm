<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<title>Custom SigTest Tool Example</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.24" />
<meta name="description" content="This appendix gives an example of creating a custom tool based on the SigTest tool and its APIs. The example tool checks two implementations of a set of Java classes for serialization compatibility." />
<meta name="dcterms.created" content="2014-07-01T13:22:31Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="SigTest User's Guide" />
<meta name="dcterms.identifier" content="E19036-03" />
<meta name="dcterms.isVersionOf" content="SIGTS" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../../nav/js/doccd.js"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Prev" href="a_maven.htm" title="Previous" type="text/html" />
<link rel="alternate" href="SIGTS.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../../dcommon/css/fonts.css">
<link rel="stylesheet" href="../../dcommon/css/foundation.css">
<link rel="stylesheet" href="../../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../../nav/css/html5.css">
<link rel="stylesheet" href="../../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>

                    <script>var w=window;if(w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance){var d=document;AKSB=w.AKSB||{},AKSB.q=AKSB.q||[],AKSB.mark=AKSB.mark||function(e,_){AKSB.q.push(["mark",e,_||(new Date).getTime()])},AKSB.measure=AKSB.measure||function(e,_,t){AKSB.q.push(["measure",e,_,t||(new Date).getTime()])},AKSB.done=AKSB.done||function(e){AKSB.q.push(["done",e])},AKSB.mark("firstbyte",(new Date).getTime()),AKSB.prof={custid:"322179",ustr:"",originlat:"0",clientrtt:"1",ghostip:"23.212.3.15",ipv6:false,pct:"10",clientip:"45.78.37.67",requestid:"29b75262",region:"32996",protocol:"",blver:14,akM:"dsca",akN:"ae",akTT:"O",akTX:"1",akTI:"29b75262",ai:"206465",ra:"false",pmgn:"",pmgi:"",pmp:"",qc:""},function(e){var _=d.createElement("script");_.async="async",_.src=e;var t=d.getElementsByTagName("script"),t=t[t.length-1];t.parentNode.insertBefore(_,t)}(("https:"===d.location.protocol?"https:":"http:")+"//ds-aksb-a.akamaihd.net/aksb.min.js")}</script>
                    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<span id="PAGE" style="display:none;">25/25</span> <!-- End Header --><a id="CIABEGJC"></a>
<h1 class="appendix"><span class="secnum">G</span> Custom SigTest Tool Example</h1>
<p>This appendix gives an example of creating a custom tool based on the SigTest tool and its APIs. The example tool checks two implementations of a set of Java classes for serialization compatibility. You can create similar tools based on this example.</p>
<p>This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#A1012444">Section G.1, "Overview"</a></p>
</li>
<li>
<p><a href="#A1083791">Section G.2, "Usage"</a></p>
</li>
<li>
<p><a href="#A1096012">Section G.3, "Implementation"</a></p>
</li>
</ul>
<a id="A1012444"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">G.1</span> Overview</h2>
<p>The serialization tool is an example of using the SigTest APIs to create a new kind of tool. The serialization tool verifies that two implementations of one set of classes can successfully serialize and deserialize instances of each other. For a description of serialization, see <code><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/serialization/index.html">http://docs.oracle.com/javase/7/docs/technotes/guides/serialization/index.html</a></code>.</p>
</div>
<!-- class="sect1" -->
<a id="A1083791"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">G.2</span> Usage</h2>
<p>The serialization tool has two commands and is run much like the base SigTest tool.</p>
<dl>
<dt>Setup command:</dt>
<dd>
<pre>
$ java com.sun.tdk.sertest.SerSetup [options]
</pre></dd>
<dt>Test command:</dt>
<dd>
<pre>
$ java com.sun.tdk.sertest.SerTest [options]
</pre></dd>
</dl>
<p>Be certain that <code>sigtestdev.jar</code> and <code>sertest.jar</code> are in the classpath. Most SigTest tool options are valid for the serialization tool.</p>
<p>The serialization tool differs from the base SigTest tool in the following ways:</p>
<ul>
<li>
<p>Only <code>java.io.Serializable</code> classes are taken (except <code>enums</code>).</p>
</li>
<li>
<p>For all classes, only non-transient and non-static fields are tracked. Also <code>serialVersionUID</code> is required and its value is tracked.</p>
</li>
<li>
<p>Any serializable class must have a <code>serialVersionUID</code>.</p>
</li>
<li>
<p>Because of reflection limitations, access to class members via reflection is not supported, and the test command is always static regardless of the <code>-static</code> option.</p>
</li>
<li>
<p>The setup command always generates a <code>-nonclosed</code> signature file.</p>
</li>
<li>
<p>Signature files generated by this tool's setup command are incompatible with, and must not be used by, the base SigTest tool or any other custom tool derived from it. Conversely, signature files generated by other tools must not be used with the serialization tool.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="A1096012"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">G.3</span> Implementation</h2>
<p>The serialization tool is implemented in the <code>com.sun.tdk.sertest</code> package in <code><span class="codeinlineitalic">SigTest-Directory</span></code><code>/examples/sertest/</code>. There are three classes:</p>
<dl>
<dt>SerSetup</dt>
<dd>
<p>Main class for setup command</p>
</dd>
<dt>SerTest</dt>
<dd>
<p>Main class for test command</p>
</dd>
<dt>SerUtil</dt>
<dd>
<p>Common code for setup and test commands</p>
</dd>
</dl>
<p>For implementation details, see the Javadoc in the SigTest-Directory<code>/javadoc/</code> directory.</p>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment24">
<tr>
<td class="cellalignment31">
<table class="cellalignment35">
<tr>
<td class="cellalignment28"><a href="a_maven.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2006, 2014,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment33">
<table class="cellalignment27">
<tr>
<td class="cellalignment28"><a href="../../index.html"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment28"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment28"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>

<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You use the jstatd command to monitor the creation and termination of instrumented Java HotSpot VMs. This command is experimental and unsupported.">
      <meta name="description" content="You use the jstatd command to monitor the creation and termination of instrumented Java HotSpot VMs. This command is experimental and unsupported.">
      <title>jstatd</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Tools Reference">
      <meta property="og:description" content="You use the jstatd command to monitor the creation and termination of instrumented Java HotSpot VMs. This command is experimental and unsupported.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Tools Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="tools-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T10:03:46-07:00">
      <meta name="dcterms.title" content="Tools Reference">
      <meta name="dcterms.dateCopyrighted" content="1993, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E95074-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="jstat.html" title="Previous" type="text/html">
      <link rel="next" href="java-accessibility-utilities-and-commands.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TOOLS">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jstat.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="java-accessibility-utilities-and-commands.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Tools Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="monitoring-tools-and-commands.html" property="item" typeof="WebPage"><span property="name">Monitoring Tools and Commands</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">jstatd</li>
            </ol>
            <a id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870" name="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870"></a><a id="JSWOR735"></a>
            
            <h2 id="JSWOR-GUID-FA737806-75CD-4EE7-A087-1CC4A5441870" class="sect2">jstatd</h2>
         </header>
         <div class="ind">
            <div>
               <p><span>You use the <code class="codeph">jstatd</code> command to monitor the creation and termination of instrumented Java HotSpot VMs. This command is experimental and unsupported.</span></p>
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-C565DF59-C2A8-4FB1-A6D5-F7E15F4D197F">Synopsis</p><pre class="pre codeblock"><code>jstatd [ <span class="variable" translate="no">options</span> ]</code></pre><dl>
                     <dt class="dlterm"><a name="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-5FE67FA7-7926-4934-9579-1E5FF4E6034A">
                           <!-- --></a><code class="codeph"><span class="variable" translate="no">options</span></code></dt>
                     <dd>
                        <p>This represents the <code class="codeph">jstatd</code> command-line options. See <a href="jstatd.html#GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__BABGDCJC">Options for the jstatd Command</a>.
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-FBDCB5C1-D2B3-4FED-8BF1-90D3B7D7F943">Description</p>
                  <p>The <code class="codeph">jstatd</code> command is an RMI server application that monitors for the creation and termination of instrumented Java HotSpot VMs and provides an interface to enable remote monitoring tools, <code class="codeph">jstat</code> and <code class="codeph">jps</code>, to attach to JVMs that are running on the local host and collect information about the JVM process.
                  </p>
                  <p>The <code class="codeph">jstatd</code> server requires an RMI registry on the local host. The <code class="codeph">jstatd</code> server attempts to attach to the RMI registry on the default port, or on the port you specify with the <code class="codeph">-p</code> <code class="codeph">port</code> option. If an RMI registry is not found, then one is created within the <code class="codeph">jstatd</code> application that’s bound to the port that’s indicated by the <code class="codeph">-p</code> <code class="codeph">port</code> option or to the default RMI registry port when the <code class="codeph">-p</code> <code class="codeph">port</code> option is omitted. You can stop the creation of an internal RMI registry by specifying the <code class="codeph">-nr</code> option.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__BABGDCJC">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-F7ED4455-E32A-4311-9847-A76F2119A8A0">Options for the jstatd Command</p>
                  <dl>
                     <dt class="dlterm"><a name="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-0AAFD5F7-D523-447B-BA9C-9E7ABE1D7BFD">
                           <!-- --></a><code class="codeph">-nr</code></dt>
                     <dd>
                        <p>This option does not attempt to create an internal RMI registry within the <code class="codeph">jstatd</code> process when an existing RMI registry isn’t found.
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-A64ED3F2-98B6-4432-81E5-118A857312DB">
                           <!-- --></a><code class="codeph">-p <span class="variable" translate="no">port</span></code> 
                     </dt>
                     <dd>
                        <p>This option sets the port number where the RMI registry is expected to be found, or when not found, created if the <code class="codeph">-nr</code> option isn’t specified.
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-4EA93017-0758-4BA5-9874-BB6A15BD80ED">
                           <!-- --></a><code class="codeph">-n <span class="variable" translate="no">rminame</span></code> 
                     </dt>
                     <dd>
                        <p>This option sets the name to which the remote RMI object is bound in the RMI registry. The default name is <code class="codeph">JStatRemoteHost</code>. If multiple <code class="codeph">jstatd</code> servers are started on the same host, then the name of the exported RMI object for each server can be made unique by specifying this option. However, doing so requires that the unique server name be included in the monitoring client's <code class="codeph">hostid</code> and <code class="codeph">vmid</code> strings.
                        </p>
                     </dd>
                     <dt class="dlterm"><a name="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-2BDF105B-2499-4EBF-99C8-200CCAD96762">
                           <!-- --></a><code class="codeph">-J<span class="variable" translate="no">option</span></code></dt>
                     <dd>
                        <p>This option passes a Java <code class="codeph">option</code> to the JVM, where the option is one of those described on the reference page for the Java application launcher. For example, <code class="codeph">-J-Xms48m</code> sets the startup memory to 48 MB. See <a href="java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE" title="You can use the java command to launch a Java application.">java</a>.
                        </p>
                     </dd>
                  </dl>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-D34AAE4F-2CBE-4D2D-89B5-F1521FDC9E48">Security</p>
                  <p>The <code class="codeph">jstatd</code> server can monitor only JVMs for which it has the appropriate native access permissions. Therefore, the <code class="codeph">jstatd</code> process must be running with the same user credentials as the target JVMs. Some user credentials, such as the root user in <span>Oracle Solaris, Linux, and macOS</span> operating systems, have permission to access the instrumentation exported by any JVM on the system. A <code class="codeph">jstatd</code> process running with such credentials can monitor any JVM on the system, but introduces additional security concerns.
                  </p>
                  <p>The <code class="codeph">jstatd</code> server doesn’t provide any authentication of remote clients. Therefore, running a <code class="codeph">jstatd</code> server process exposes the instrumentation export by all JVMs for which the <code class="codeph">jstatd</code> process has access permissions to any user on the network. This exposure might be undesirable in your environment, and therefore, local security policies should be considered before you start the <code class="codeph">jstatd</code> process, particularly in production environments or on networks that aren’t secure.
                  </p>
                  <p>The <code class="codeph">jstatd</code> server installs an instance of <code class="codeph">RMISecurityPolicy</code> when no other security manager is installed, and therefore, requires a security policy file to be specified. The policy file must conform to Default Policy Implementation and Policy File Syntax.
                  </p>
                  <p>If your security concerns can’t be addressed with a customized policy file, then the safest action is to not run the <code class="codeph">jstatd</code> server and use the <code class="codeph">jstat</code> and <code class="codeph">jps</code> tools locally. However, when using <code class="codeph">jps</code> to get a list of instrumented JVMs, the list will not include any JVMs running in docker containers. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-DE495BF8-F19F-4FAE-A093-1C1CBC997932">Remote Interface</p>
                  <p>The interface exported by the <code class="codeph">jstatd</code> process is proprietary and guaranteed to change. Users and developers are discouraged from writing to this interface.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-84521FD6-7501-491E-AAF0-0239BDC7A564">Examples</p>
                  <p>The following are examples of the <code class="codeph">jstatd</code> command. The <code class="codeph">jstatd</code> scripts automatically start the server in the background.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-C31C58EA-4C61-4244-A88D-147F6E461A45">Internal RMI Registry</p>
                  <p>This example shows how to start a <code class="codeph">jstatd</code> session with an internal RMI registry. This example assumes that no other server is bound to the default RMI registry port (port <code class="codeph">1099</code>).
                  </p><pre class="pre codeblock"><code>jstatd -J-Djava.security.policy=all.policy
</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-067A934F-9518-4B3E-A49B-43088693207E">External RMI Registry</p>
                  <p>This example starts a <code class="codeph">jstatd</code> session with an external RMI registry.
                  </p><pre class="pre codeblock"><code>rmiregistry&amp;
jstatd -J-Djava.security.policy=all.policy
</code></pre><p>This example starts a <code class="codeph">jstatd</code> session with an external RMI registry server on port <code class="codeph">2020</code>.
                  </p><pre class="pre codeblock"><code>jrmiregistry 2020&amp;
jstatd -J-Djava.security.policy=all.policy -p 2020
</code></pre><p>This example starts a <code class="codeph">jstatd</code> session with an external RMI registry on port 2020 that’s bound to <code class="codeph">AlternateJstatdServerName</code>.
                  </p><pre class="pre codeblock"><code>rmiregistry 2020&amp;
jstatd -J-Djava.security.policy=all.policy -p 2020
    -n AlternateJstatdServerName
</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-804C6FC7-0337-4612-A34D-BEAFC897513F">Stop the Creation of an In-Process RMI Registry</p>
                  <p>This example starts a <code class="codeph">jstatd</code> session that doesn’t create an RMI registry when one isn’t found. This example assumes an RMI registry is already running. If an RMI registry isn’t running, then an error message is displayed.
                  </p><pre class="pre codeblock"><code>jstatd -J-Djava.security.policy=all.policy -nr
</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-FA737806-75CD-4EE7-A087-1CC4A5441870__GUID-8E595C98-A9A0-4E82-88D1-F7CAA7AAF6D6">Enable RMI Logging</p>
                  <p>This example starts a <code class="codeph">jstatd</code> session with RMI logging capabilities enabled. This technique is useful as a troubleshooting aid or for monitoring server activities.
                  </p><pre class="pre codeblock"><code>jstatd -J-Djava.security.policy=all.policy
    -J-Djava.rmi.server.logCalls=true
</code></pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>

<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes some issues that can arise with the Java sound technology and suggests causes and workarounds.">
      <meta name="description" content="This chapter describes some issues that can arise with the Java sound technology and suggests causes and workarounds.">
      <title>Java Sound</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Troubleshooting Guide">
      <meta property="og:description" content="This chapter describes some issues that can arise with the Java sound technology and suggests causes and workarounds.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Troubleshooting Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="troubleshooting-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T10:41:43-07:00">
      <meta name="dcterms.title" content="Troubleshooting Guide">
      <meta name="dcterms.dateCopyrighted" content="1995, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94880-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="internationalization.html" title="Previous" type="text/html">
      <link rel="next" href="submit-bug-reports.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TROUBLESHOOT">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="internationalization.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="submit-bug-reports.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Troubleshooting Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="debug-client-issues.html" property="item" typeof="WebPage"><span property="name">Debug Client Issues </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Java Sound</li>
            </ol>
            <a id="GUID-A2CD7669-9CF4-4002-B4F3-67525BE075B2" name="GUID-A2CD7669-9CF4-4002-B4F3-67525BE075B2"></a><a id="JSTGD491"></a><a id="JSTGD490"></a>
            
            <h2 id="JSTGD-GUID-A2CD7669-9CF4-4002-B4F3-67525BE075B2" class="sect2"><span class="enumeration_chapter">15 </span>Java Sound
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes some issues that can arise with the Java sound technology and suggests causes and workarounds.</p>
               <p>The following topic describes scenarios to troubleshoot Java sound problems.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="java-sound.html#GUID-EDC97EE2-2F17-417F-A7F2-5A867DB6BE32" title="Troubleshoot Java sound issues such as system sound configuration, audio file format, audio format, and overrun and underrun conditions.">Troubleshoot Java Sound Issues</a></p>
                  </li>
               </ul>
            </div><a id="JSTGD492"></a><div class="props_rev_3"><a id="GUID-EDC97EE2-2F17-417F-A7F2-5A867DB6BE32" name="GUID-EDC97EE2-2F17-417F-A7F2-5A867DB6BE32"></a><h3 id="JSTGD-GUID-EDC97EE2-2F17-417F-A7F2-5A867DB6BE32" class="sect3">Troubleshoot Java Sound Issues</h3>
               <div>
                  <p>Troubleshoot Java sound issues such as system sound configuration, audio file format, audio format, and overrun and underrun conditions.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">System sound configuration:</span></p>
                        <p>Ensure that your audio system is correctly configured (sound card driver/DirectSound for Windows, ALSA for Linux, Audio Mixer for Oracle Solaris). In addition, ensure that your speakers are connected and that your sound card volume and mute state are adjusted to the appropriate value. To test your sound configuration, run any native sound application and play some sound through it.</p>
                        <p>On the Oracle Solaris and Linux operating systems, you might be unable to play sounds because an application (or sound daemon, such as <code class="codeph">esd</code> or <code class="codeph">artsd</code>) opens the audio device exclusively, thereby denying Java Sound access to the device.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Audio file formats:</span></p>
                        <p>Java Sound supports a set of audio file formats, for example AU, AIF, and WAV. Most of the file formats are only containers and can contain audio data in various compressed audio formats. Java Sound file readers support some formats (uncompressed PCM, a-law, mu-law), but do not support ADPCM, MP3, and others.</p>
                        <p>Java Sound also supports plug-ins for file readers and writers through the service provider interface (SPI). You can use Sun, third-party, or your own plug-ins to read various audio files. In any case, you must handle the presence of the plug-in, for example, by distributing the required plug-ins with your application or by requiring plug-ins to be installed in the client Java environment.</p>
                     </li>
                     <li>
                        <p><span class="bold">Audio formats:</span></p>
                        <p>Java Sound supports various audio formats, but their availability depends on the operating system. To use some audio format for recording or playing, the format must be supported by your system (sound card drivers). Use supported formats as much as possible: PCM; 8 or 16 bits; 8000, 11025, 22050, 44100 Hz. The formats are supported by most sound cards. Most sound cards support only PCM formats, and even if the driver supports mu-law, then it requires some modification to the software. If you need to play or record mu-law data, then the preferred way is to convert it to PCM format through a format converter.</p>
                        <p>See <a href="https://docs.oracle.com/javase/10/docs/api/javax/sound/sampled/AudioSystem.html" target="_blank"><code class="codeph">AudioSystem.getAudioInputStream</code></a> documentation for details about format conversion.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Overrun and underrun conditions:</span></p>
                        <p>Recorded data is kept in a <code class="codeph">DataLine</code> buffer. If you did not read from the line for a long time, then an overrun condition will occur, and older data will be replaced with new data. This will produce artifacts in the recorded audio data.
                        </p>
                        <p>A similar situation occurs with playing. If all data from the buffer has been played and no new data is written to the line, then an underrun condition will occur, and silence will be played until you write a new portion of audio data to the line.</p>
                        <p>The preferred way to record is to read data in a separate thread to prevent the possible influence of other tasks (for example, UI handling). If you use <code class="codeph">SourceDataLine</code> for playing, then a separate thread for writing data into the line is also the preferred method to use. If you use <code class="codeph">Clip</code> for playing, then the <code class="codeph">Clip</code> implementation creates this type of thread itself.
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>

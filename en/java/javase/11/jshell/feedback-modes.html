<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The feedback mode determines the prompts, feedback, and other interactions within JShell. Predefined modes with different levels of feedback are provided. Custom modes can be created as needed.">
      <meta name="description" content="The feedback mode determines the prompts, feedback, and other interactions within JShell. Predefined modes with different levels of feedback are provided. Custom modes can be created as needed.">
      <title>Feedback Modes</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Shell User’s Guide">
      <meta property="og:description" content="The feedback mode determines the prompts, feedback, and other interactions within JShell. Predefined modes with different levels of feedback are provided. Custom modes can be created as needed.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Shell User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="java-shell-user-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2018-09-20T08:11:45-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2018">
      <meta name="dcterms.category" content="java">
      <meta name="dcterms.identifier" content="E94826-01">
      
      <meta name="dcterms.product" content="en/java/javase/11">
      <meta name="dcterms.release" content="11">
      <link rel="prev" href="external-code.html" title="Previous" type="text/html">
      <link rel="next" href="scripts.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"java","element_name":"Java","display_in_url":true},"suite":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product_group":{"short_name":"not-applicable","element_name":"Not Applicable","display_in_url":false},"product":{"short_name":"javase","element_name":"Java SE","display_in_url":true},"release":{"short_name":"11","element_name":"11","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Shell User Guide">
    <meta name="dcterms.isVersionOf" content="JSHELL">
  <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="external-code.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="scripts.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java Shell User’s Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Feedback Modes</li>
            </ol>
            <a id="GUID-906D1D0B-76AD-4AFD-9229-96C6FD823B4A" name="GUID-906D1D0B-76AD-4AFD-9229-96C6FD823B4A"></a>
            
            <h2 id="JSHEL-GUID-906D1D0B-76AD-4AFD-9229-96C6FD823B4A" class="sect2"><span class="enumeration_chapter">6 </span>Feedback Modes
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The feedback mode determines the prompts, feedback, and other interactions within JShell. Predefined modes with different levels of feedback are provided. Custom modes can be created as needed.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-906D1D0B-76AD-4AFD-9229-96C6FD823B4A__GUID-599EBB18-C480-45AE-A863-5DA4F045A7E3">Topics</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="feedback-modes.html#GUID-AC32A8DA-8D4C-46F5-B415-B61E71411EF3" title="A feedback mode defines the prompts and feedback that are used in your interaction with JShell. Predefined modes are provided for your convenience. You can create custom modes as needed.">Setting the Feedback Mode</a></p>
                     </li>
                     <li>
                        <p><a href="feedback-modes.html#GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84" title="Custom feedback modes enable you to define the prompts that you want to see and the feedback that you want to receive for the different elements that you enter into JShell.">Defining a Feedback Mode</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-AC32A8DA-8D4C-46F5-B415-B61E71411EF3" name="GUID-AC32A8DA-8D4C-46F5-B415-B61E71411EF3"></a><h3 id="JSHEL-GUID-AC32A8DA-8D4C-46F5-B415-B61E71411EF3" class="sect3">Setting the Feedback Mode</h3>
               <div>
                  <p>A feedback mode defines the prompts and feedback that are used in your interaction with JShell. Predefined modes are provided for your convenience. You can create custom modes as needed. </p>
                  <p>The predefined modes can’t be modified, but they can be used as the base of a custom mode. The predefined modes, in descending order of verbosity are <code class="codeph">verbose</code>, <code class="codeph">normal</code>, <code class="codeph">concise</code>, and <code class="codeph">silent</code>. 
                  </p>
                  <p>The following table shows the differences in the predefined modes.</p>
                  <div class="tblformal" id="GUID-AC32A8DA-8D4C-46F5-B415-B61E71411EF3__GUID-BAB09147-F801-48EC-9EE9-AA9898012323">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Shows the settings for each of the predefined feedback modes." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d3411e62">Mode</th>
                              <th align="left" valign="bottom" id="d3411e65">Value Snippets</th>
                              <th align="left" valign="bottom" id="d3411e68">Declaration</th>
                              <th align="left" valign="bottom" id="d3411e71">Updates</th>
                              <th align="left" valign="bottom" id="d3411e74">Commands</th>
                              <th align="left" valign="bottom" id="d3411e77">Prompt</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d3411e82" headers="d3411e62 ">
                                 <p>verbose</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e82 d3411e65 ">
                                 <p>name ==&gt; value (and description)</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e82 d3411e68 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e82 d3411e71 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e82 d3411e74 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e82 d3411e77 ">
                                 <p>\njshell&gt;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d3411e101" headers="d3411e62 ">
                                 <p>normal</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e101 d3411e65 ">
                                 <p>name ==&gt; value</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e101 d3411e68 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e101 d3411e71 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e101 d3411e74 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e101 d3411e77 ">
                                 <p>\njshell&gt;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d3411e120" headers="d3411e62 ">
                                 <p>concise</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e120 d3411e65 ">
                                 <p>name ==&gt; value (only expressions)</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e120 d3411e68 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e120 d3411e71 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e120 d3411e74 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e120 d3411e77 ">
                                 <p>jshell&gt;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d3411e139" headers="d3411e62 ">
                                 <p>silent</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e139 d3411e65 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e139 d3411e68 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e139 d3411e71 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e139 d3411e74 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" headers="d3411e139 d3411e77 ">
                                 <p>-&gt;</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The Mode column indicates the mode that is being described.</p>
                     </li>
                     <li>
                        <p>The Value Snippets column indicates what is shown for snippets that have values, such as expressions, assignments, and variable declarations.</p>
                     </li>
                     <li>
                        <p>The Declaration column indicates if feedback is provided for declarations or methods, classes, enum, interfaces, and annotation interfaces.</p>
                     </li>
                     <li>
                        <p>The Updates column indicates if changes to other than the current snippet are shown.</p>
                     </li>
                     <li>
                        <p>The Commands column indicates if commands give feedback indicating success.</p>
                     </li>
                     <li>
                        <p>The Prompt column indicates the prompt that is used.</p>
                     </li>
                  </ul>
                  <p>The default feedback mode is <code class="codeph">normal</code>. Change the feedback mode by setting a command-line option or using the <code class="codeph">/set feedback</code> command as shown in the following example:
                  </p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set feedback verbose </span>
|  Feedback mode: verbose

jshell&gt; <span class="bold">2 + 2</span>
$1 ==&gt; 4
|  created scratch variable $1 : int

jshell&gt; <span class="bold">/set feedback silent </span>
-&gt; <span class="bold">2 + 2</span>
-&gt; <span class="bold">/set feedback normal </span>
|  Feedback mode: normal

jshell&gt; <span class="bold">2 + 2</span>
$3 ==&gt; 4

jshell&gt; <span class="bold">/set feedback concise </span>
jshell&gt; <span class="bold">2 + 2</span>
$4 ==&gt; 4
jshell&gt; </code></pre><p>Notice that when the setting is <code class="codeph">normal</code> or <code class="codeph">verbose</code>, the command feedback shows you the setting, but <code class="codeph">concise</code> and <code class="codeph">silent</code> modes don't. Also notice that the three different forms of feedback for the expression <code class="codeph">2+2</code> include no feedback when the mode is set to <code class="codeph">silent</code>.
                  </p>
                  <p>To see the current and available feedback modes, use the <code class="codeph">/set feedback</code> command without options. Notice that the current mode is shown as the command that set it:
                  </p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set feedback </span>
|  /set feedback verbose
|  
|  Available feedback modes:
|     concise
|     normal
|     silent
|     verbose</code></pre></div>
            </div>
            <div class="sect2"><a id="GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84" name="GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84"></a><h3 id="JSHEL-GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84" class="sect3">Defining a Feedback Mode</h3>
               <div>
                  <p>Custom feedback modes enable you to define the prompts that you want to see and the feedback that you want to receive for the different elements that you enter into JShell.</p>
                  <p>A feedback mode has the following settings:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Prompts: Regular and continuation</p>
                     </li>
                     <li>
                        <p>Truncation: Maximum length of values displayed</p>
                     </li>
                     <li>
                        <p>Format: Format of the feedback provided</p>
                     </li>
                  </ul>
                  <p>The predefined modes can’t be changed, but you can easily create a copy of an existing mode, as shown in the following example:</p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set mode mine normal -command</span>
|  Created new feedback mode: mine</code></pre><p>The new mode <code class="codeph">mine</code> is a copy of the <code class="codeph">normal</code> mode. The <code class="codeph">-command</code> option indicates that you want command feedback. If you don't want commands to describe the action that occurred, then use <code class="codeph">-quiet</code> instead of <code class="codeph">-command</code>.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84__GUID-8E944117-D3E0-4FB4-BDD5-0633068A904B">Set Prompts</p>
                     <p>As with all <code class="codeph">/set</code> commands, use the <code class="codeph">/set prompt</code> command without settings to show the current setting:
                     </p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set prompt normal</span>
|  /set prompt normal "\njshell&gt; " "   ...&gt; "</code></pre><p>In the feedback provided for the previous example, the first string is the regular prompt, and the second string is the continuation prompt that is used if the snippet extends to multiple lines. The following example shows how to switch to the new mode to try it out:</p><pre class="pre codeblock"><code>jshell&gt; <span class="bold">/set prompt mine "\nmy mode: "  ".......: "</span>

jshell&gt; <span class="bold">/set feedback mine</span>
|  Feedback mode: mine

my mode: <span class="bold">class C {</span>
.......: <span class="bold">   int x;</span>
.......: <span class="bold">}</span>
|  created class C

my mode:</code></pre><p>The prompt strings can contain <code class="codeph">%s</code>, which is substituted with the next snippet ID. However, if a command is entered or the snippet results in an error, then the value that users enter at the prompt might not be assigned that ID.
                     </p>
                     <p>All settings have a duration of the current session; they are not reset by the <code class="codeph">/reset</code> command. If you want the settings to be the default for future sessions, then use the <code class="codeph">-retain</code> option to keep them. The following example shows how to keep your custom mode across sessions:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set mode mine -retain</span>

my mode: <span class="bold">/set feedback mine -retain</span>
|  Feedback mode: mine

my mode: <span class="bold">/exit </span>
|  Goodbye
% <span class="bold">jshell</span>
|  Welcome to JShell -- Version 9
|  For an introduction type: /help intro

my mode: </code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84__GUID-4EFECC59-3060-493F-B738-E0DEC665F8DB">Set Truncation</p>
                     <p>If the values are too long, then they are truncated when displayed. Use the <code class="codeph">/set truncation</code> command to set the maximum length shown for a value. If no settings are entered with the command, then the current setting is displayed. The following example shows the settings that were inherited from the <code class="codeph">normal</code> mode:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set truncation mine </span>
|  /set truncation mine 80 
|  /set truncation mine 1000 expression,varvalue

my mode: <span class="bold">String big = IntStream.range(0,1200).mapToObj(n -&gt; "" + (char) ('a' + n % 26)).collect(Collectors.joining())</span>
big ==&gt; "abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuv ... fghijklmnopqrstuvwxyzabcd"</code></pre><p>The conditions under which a truncation setting is in effect is determined by the optional selectors that are entered after the truncation length. Two types of selectors (called selector kinds in the online help) are defined:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A case selector indicates the type of snippet whose value is displayed.</p>
                        </li>
                        <li>
                           <p>An action selector describes what happened to the snippet.</p>
                        </li>
                     </ul>
                     <p>Enter <code class="codeph">/help /set truncation</code> for details about selectors. 
                     </p>
                     <p>The setting shown in the previous example means that values are truncated to 80 characters unless the value is the value of an expression (the <code class="codeph">expression</code> case selector) or the value of a variable, as explicitly requested by entering just the variable name (the <code class="codeph">varvalue</code> case selector). The order is important; the last one entered is used. If the order were reversed, then all of the values would be truncated to 80 characters.
                     </p>
                     <p>The following example sets the default truncation to <code class="codeph">100</code>, and only shows long values if they are explicitly requested:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set truncation mine 100</span>

my mode: <span class="bold">/set truncation mine 300 varvalue</span>

my mode: <span class="bold">big + big</span>
$2 ==&gt; "abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghi ... yzabcdefghijklmnopqrstuvwxyzabcd"

my mode: <span class="bold">big</span>
big ==&gt; "abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstu
vwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijkl ... jklmnopq
rstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcd"

my mode: <span class="bold">/set mode mine -retain</span></code></pre><p>To keep the new settings, retain the changes as shown at the end of the example.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84__GUID-F2948F8D-94BF-420D-8C57-2BD2A08F74D5">Set Formats</p>
                     <p>Snippet output is another setting that you can customize. In the format inherited from the <code class="codeph">normal</code> mode, an import doesn't give any feedback, and the type of a value isn’t shown: 
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">import java.beans.*</span>

my mode: <span class="bold">Locale.CANADA.getUnicodeLocaleAttributes()</span>
$5 ==&gt; []</code></pre><p>The format of the snippet output is set with the <code class="codeph">/set format</code> command. Enter this with the mode name and no settings to see the current format settings:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set format mine</span></code></pre><p>Extensive help about this command is available with the <code class="codeph">/help /set format</code> command. You might want to bring it up to use as a reference for the remainder of this section, which mentions the fields that are used when defining the formats.
                     </p>
                     <p>The primary feedback displayed is determined by the <code class="codeph">display</code> field. Other fields can be defined to assist in defining the <code class="codeph">display</code> field. Predefined modes other than <code class="codeph">silent</code> define several of these fields, as can be seen in the output from the <code class="codeph">/help /set format</code> command. These fields are inherited in the example mode. Display definitions for import are shown in the following example:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set format mine display "{pre}added import {name}{post}" import-added</span>

my mode: <span class="bold">/set format mine display "{pre}re-added import {name}{post}" import-modified,replaced</span></code></pre><p>The <code class="codeph">name</code> field is predefined as the name of the snippet. The following example shows that feedback is now provided for imports:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">import java.beans.*</span>
|  re-added import java.beans.*</code></pre><p>The <code class="codeph">pre</code> and <code class="codeph">post</code> fields used in the display definition are the prefix and postfix characters for each line of feedback output. The following example changes the vertical bar prefix to the empty string:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set format mine pre ""</span>

my mode: <span class="bold">void m() {}</span>
created method m()

my mode: <span class="bold">import java.beans.*</span>
re-added import java.beans.*

my mode: <span class="bold">/set truncation mine </span>
/set truncation mine 100
/set truncation mine 300 varvalue</code></pre><div class="infoboxnote" id="GUID-ED8F7F3B-3667-4724-910A-C93B8521FC84__GUID-7D3546BB-9900-4AFF-A523-FC0B1D6E1281">
                        <p class="notep1">Note:</p>The change to the prefix character affects all feedback, including command feedback.
                     </div>
                     <p>To show the type when displaying values, change the <code class="codeph">result</code> field defined by the predefined modes:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set format mine result "{type} {name} = {value}{post}" added,modified,replaced-primary-ok</span>

my mode: <span class="bold">Locale.CANADA.getUnicodeLocaleAttributes()</span>
Set&lt;String&gt; $11 = []

my mode: <span class="bold">2 + 2</span>
int $12 = 4</code></pre><p>This change makes <code class="codeph">result</code> nonempty only when it is new or updated (<code class="codeph">added,modified,replaced</code>), is on the entered snippet (<code class="codeph">primary</code>), and doesn’t have errors (<code class="codeph">ok</code>).
                     </p>
                     <p>To permanently delete a retained mode, use the <code class="codeph">-retain</code> option with the <code class="codeph">-delete</code> option:
                     </p><pre class="pre codeblock"><code>my mode: <span class="bold">/set feedback verbose -retain</span>
|  Feedback mode: verbose

jshell&gt; <span class="bold">/set mode mine -delete -retain</span></code></pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Using Export Files</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-04-13T10:24:54Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Java Card 3 Platform Development Kit User Guide, Classic Edition" />
<meta name="dcterms.identifier" content="E59602-03" />
<meta name="dcterms.isVersionOf" content="JCUGC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1998, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="file-naming-converter.htm" title="Previous" type="text/html" />
<link rel="Next" href="compatibility-classic-applets.htm" title="Next" type="text/html" />
<link rel="alternate" href="JCUGC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>

                    <script>var w=window;if(w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance){var d=document;AKSB=w.AKSB||{},AKSB.q=AKSB.q||[],AKSB.mark=AKSB.mark||function(e,_){AKSB.q.push(["mark",e,_||(new Date).getTime()])},AKSB.measure=AKSB.measure||function(e,_,t){AKSB.q.push(["measure",e,_,t||(new Date).getTime()])},AKSB.done=AKSB.done||function(e){AKSB.q.push(["done",e])},AKSB.mark("firstbyte",(new Date).getTime()),AKSB.prof={custid:"322179",ustr:"",originlat:"0",clientrtt:"1",ghostip:"23.212.3.15",ipv6:false,pct:"10",clientip:"45.78.37.67",requestid:"29b898a2",region:"32996",protocol:"",blver:14,akM:"dsca",akN:"ae",akTT:"O",akTX:"1",akTI:"29b898a2",ai:"206465",ra:"false",pmgn:"",pmgi:"",pmp:"",qc:""},function(e){var _=d.createElement("script");_.async="async",_.src=e;var t=d.getElementsByTagName("script"),t=t[t.length-1];t.parentNode.insertBefore(_,t)}(("https:"===d.location.protocol?"https:":"http:")+"//ds-aksb-a.akamaihd.net/aksb.min.js")}</script>
                    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-30C3A621-9550-4F2E-A9AA-B55B1D4AE90B"></a> <span id="PAGE" style="display:none;">95/161</span> <!-- End Header -->
<a id="JCUGC212"></a><a id="JCUGC211"></a>
<h1 id="JCUGC-GUID-30C3A621-9550-4F2E-A9AA-B55B1D4AE90B" class="sect1">Using Export Files</h1>
<div>
<p>A Java Card technology-based export file (export file) contains the public API linking information of classes in an entire package. The Unicode string names of classes, methods and fields are assigned unique numeric tokens.</p>
<p>Export files are not used directly on a device that implements a Java Card virtual machine. However, the information in an export file is critical to the operation of the virtual machine on a device. An export file is produced by the Converter when a package is converted. You can use this package's export file later to convert another package that imports classes from the first package. Information in the export file is included in the CAP file of the second package, then is used on the device to link the contents of the second package to items imported from the first package.</p>
<p>During the conversion, when the code in the currently-converted package references a different package, the Converter loads the export file of the different package. The Converter also tries to load the shareable interface class files being imported from that package.</p>
<p>For more information on export files, see <a href="verifying-cap-and-export-files.htm" title="This chapter describes off-card verification as a means for evaluating CAP and export files in a desktop environment. When applied to the set of CAP files that reside on a Java Card technology compliant smart card and the set of export files used to construct those CAP files, the Java Card technology-enabled off-card verifier provides the means to assert that the content of the smart card has been verified.">Verifying CAP and Export Files</a>.</p>
<p><a href="using-export-files.htm#GUID-30C3A621-9550-4F2E-A9AA-B55B1D4AE90B__fig-128-50AD9B43">Figure 5-1</a> illustrates how an applet package is linked with the <code class="codeph">java.lang</code>, the <code class="codeph">javacard.framework</code> and <code class="codeph">javacard.security</code> packages through their export files.</p>
<p>You can use the <code class="codeph">-exportpath</code> command option to specify the locations of export files and the shareable interface class files. The path consists of a list of root directories in which the Converter looks for export files and shareable interface class files. Export files must be named as the last portion of the package name followed by the extension<code class="codeph">.exp</code>. Export files are located in a subdirectory called <code class="codeph">javacard</code>, following the relative directory path that matches the package name. The shareable interface class files are located in the relative directory path that matches the package name.</p>
<p>For example, to load the export file of the package <code class="codeph">java.lang</code>, if you have specified <code class="codeph">-exportpath</code> as <code class="codeph">c:\myexportfiles</code>, the Converter searches the directory <code class="codeph">c:\myexportfiles\java\lang\javacard</code> for the export file <code class="codeph">lang.exp</code>.</p>
<div class="figure" id="GUID-30C3A621-9550-4F2E-A9AA-B55B1D4AE90B__fig-128-50AD9B43">
<p class="titleinfigure">Figure 5-1 Calls Between Packages Go Through The Export Files</p>
<img width="452" height="147" src="img/jcugc_dt_008_exportfiles.png" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows" /><br />
<a href="img_text/jcugc_dt_008_exportfiles.htm">Description of "Figure 5-1 Calls Between Packages Go Through The Export Files"</a></div>
<!-- class="figure" --></div>
<a id="JCUGC213"></a>
<div class="props_rev_3"><a id="GUID-0ACC1ED0-24A6-4490-8C8A-700919143A25"></a>
<h2 id="JCUGC-GUID-0ACC1ED0-24A6-4490-8C8A-700919143A25" class="sect2">Specifying an Export Map</h2>
<div>
<div class="section">
<p>By specifying an export map, you can request that the Converter convert a package by using the tokens in the pre-defined export file of the package that is being converted. There are two distinct cases when using the <code class="codeph">-exportmap</code> flag is desired:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>When the minor version of the package is the same as the version given in the export file (this case is called package reimplementation).</p>
<p>During package reimplementation, the API of the package (exportable classes, interfaces, fields and methods) must remain the same.</p>
</li>
<li>
<p>When the minor version increases (package upgrading).</p>
<p>During a package upgrade, changes that do not break binary compatibility with preexisting packages are allowed (see "Binary Compatibility" in the <span class="italic">Virtual Machine Specification, Java Card Platform, Version 3.0.5, Classic Edition</span>).</p>
</li>
</ul>
<p>For example, if you have developed a package and would like to reimplement a method (package reimplementation) or upgrade the package by adding new API elements (new exportable classes or new public or protected methods or fields to already existing exportable classes), you must use the <code class="codeph">-exportmap</code> option to preserve binary compatibility with already existing packages that use your package.</p>
<p>To specify an export map:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>Set the <code class="codeph">-exportmap</code> command option described in <a href="running-converter.htm#GUID-7A26B008-6F3B-4E69-800F-D04B3DDF76B1__BGBFFCCH" title="Lists and describes the converter command line arguments.">Table 5-1</a> when you run the Converter.</span>
<div>
<p>The Converter loads the pre-defined export file in the same way that it loads other export files.</p>
</div>
</li>
</ol>
</div>
</div>
<a id="JCUGC215"></a><a id="JCUGC214"></a>
<div class="props_rev_3"><a id="GUID-90CB6512-D35F-4F65-92C8-176B0B773284"></a>
<h2 id="JCUGC-GUID-90CB6512-D35F-4F65-92C8-176B0B773284" class="sect2">Viewing an Export File as Text</h2>
<div>
<div class="section">
<p>The <code class="codeph">exp2text</code> tool is provided to allow you to view any export file in text format. The file to invoke <code class="codeph">exp2text</code> is a batch file (<code class="codeph">exp2text.bat</code>) that must be run from a working directory of <span class="italic">JC_CLASSIC_HOME</span><code class="codeph">\bin</code> in order for the code to execute properly.</p>
<p>To view an export file as text:</p>
</div>
<!-- class="section" -->
<ol>
<li><span>Enter the following command (see <a href="using-export-files.htm#GUID-90CB6512-D35F-4F65-92C8-176B0B773284__BGBHAFGJ" title="list and description of the exp2text command line options">Table 5-2</a> for a description of the options):</span></li>
</ol>
<div class="section">
<p><code class="codeph">exp2text.bat</code> [<span class="italic">options</span>] <span class="italic">package-name</span></p>
<div class="tblformal" id="GUID-90CB6512-D35F-4F65-92C8-176B0B773284__BGBHAFGJ">
<p class="titleintable">Table 5-2 exp2text Command Line Options</p>
<table class="cellalignment12" title="exp2text Command Line Options " summary="list and description of the exp2text command line options">
<thead>
<tr class="cellalignment2">
<th class="cellalignment78" id="d21372e199">Option</th>
<th class="cellalignment79" id="d21372e202">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment80" id="d21372e207" headers="d21372e199">
<p><code class="codeph">-classdir</code> <span class="italic">input-root-directory</span></p>
</td>
<td class="cellalignment81" headers="d21372e207 d21372e202">
<p>Specifies the root directory where the program looks for the export file.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment80" id="d21372e218" headers="d21372e199">
<p><code class="codeph">-d</code> <span class="italic">output-root-directory</span></p>
</td>
<td class="cellalignment81" headers="d21372e218 d21372e202">
<p>Specifies the root directory for output.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment80" id="d21372e229" headers="d21372e199">
<p><code class="codeph">-help</code></p>
</td>
<td class="cellalignment81" headers="d21372e229 d21372e202">
<p>Prints help message.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<p>If you have a source release, you can localize locale-specific data associated with the <code class="codeph">exp2text</code> tool. For more information, see <a href="localizing-development-kit.htm" title="This chapter describes the support for localization that the development kit provides. This chapter is useful only if you have a source release of the development kit.">Localizing With The Development Kit</a>.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1">
<tr>
<td class="cellalignment8">
<table class="cellalignment6">
<tr>
<td class="cellalignment5"><a href="file-naming-converter.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5"><a href="compatibility-classic-applets.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1998, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment10">
<table class="cellalignment4">
<tr>
<td class="cellalignment5"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>

<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Overview of Using the Reference Implementation</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-04-13T10:24:54Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Java Card 3 Platform Development Kit User Guide, Classic Edition" />
<meta name="dcterms.identifier" content="E59602-03" />
<meta name="dcterms.isVersionOf" content="JCUGC" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;1998, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="../index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Glossary" href="glossary.htm" title="Glossary" type="text/html" />
<link rel="Prev" href="using-reference-implementation.htm" title="Previous" type="text/html" />
<link rel="Next" href="running-ri.htm" title="Next" type="text/html" />
<link rel="alternate" href="JCUGC.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D"></a> <span id="PAGE" style="display:none;">115/161</span> <!-- End Header -->
<a id="JCUGC314"></a><a id="JCUGC315"></a><a id="JCUGC706"></a>
<h1 id="JCUGC-GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D" class="sect1">Overview of Using the Reference Implementation</h1>
<div>
<p>The Reference Implementation (RI) is a simulator that can be built with a ROM mask, much like a Java Card technology-based implementation for actual field use. It has the ability to simulate persistent memory (EEPROM) and to save and restore the contents of EEPROM to and from disk files. Applets can be installed in the RI, and it performs I/O through a socket interface, simulating the interaction with a card reader (CAD). It implements the T=1, T=CL, or T=0 protocols for communications with the CAD.</p>
<p>The Java Card RI supports the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Up to 20 logical channels per communication interface</p>
</li>
<li>
<p>Integer data type</p>
</li>
<li>
<p>Object deletion</p>
</li>
<li>
<p>Card reset in case of object allocation during an aborted transaction</p>
</li>
</ul>
<p>In this version of the development kit, the RI is available as a 32-bit implementation that supports the ability to go beyond the 64KB memory access. The RI supports the T=1 and T=CL in dual concurrent interface mode. This development kit also supports T=0 and T=1, both in single interface mode. <a href="overview-using-reference-implementation.htm#GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D__CACEJDCA" title="list and description of the protocols supported by the re executables.">Table 10-1</a> lists the Java Card RE executables by protocol.</p>
<div class="tblformal" id="GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D__CACEJDCA">
<p class="titleintable">Table 10-1 Protocols Supported by RE Executables</p>
<table class="cellalignment12" title="Protocols Supported by RE Executables" summary="list and description of the protocols supported by the re executables.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment84" id="d33893e50">RE Executable</th>
<th class="cellalignment84" id="d33893e53">Supported Protocol</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment2" id="d33893e58" headers="d33893e50">
<p><code class="codeph">cref_t0.exe</code></p>
</td>
<td class="cellalignment2" headers="d33893e58 d33893e53">
<p>T=0 protocol (single port), as defined in ISO 7816.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" id="d33893e66" headers="d33893e50">
<p><code class="codeph">cref_t1.exe</code></p>
</td>
<td class="cellalignment2" headers="d33893e66 d33893e53">
<p>T=1 protocol (single port), as defined in ISO 7816.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment2" id="d33893e74" headers="d33893e50">
<p><code class="codeph">cref_tdual.exe</code></p>
</td>
<td class="cellalignment2" headers="d33893e74 d33893e53">
<p>T=1 and T=CL (each on separate port). Uses T=1 for the contact protocol, and the T=CL for the contactless version, as defined in ISO 14473. This is the default executable for <code class="codeph">cref.bat</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" -->
<div class="infobox-note" id="GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D__GUID-9C0F9856-B10C-4DA7-9A19-460069E9F42A">
<p class="notep1">Note:</p>
<p>The descriptions, command-line syntax, and options in this chapter for running <code class="codeph">cref_tdual.exe</code> also apply to <code class="codeph">cref_t0.exe</code> and <code class="codeph">cref_t1.exe</code>. The difference is solely in the supported protocols.</p>
</div>
<p>The binary versions of the REs available in this development kit are provided in the <span class="italic">JC_CLASSIC_HOME</span>\<code class="codeph">bin</code> directory as the executables <code class="codeph">cref_t0.exe</code>, <code class="codeph">cref_t1.exe</code>, and <code class="codeph">cref_tdual.exe</code>. Each binary corresponds to the supported protocols described in <a href="overview-using-reference-implementation.htm#GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D__CACEJDCA" title="list and description of the protocols supported by the re executables.">Table 10-1</a>. The development kit also includes the <code class="codeph">cref.bat</code> file whose default is to run the RI with T=1/T=CL, but it can also run the RI using the other supported protocols according to arguments shown in <a href="overview-using-reference-implementation.htm#GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D__CACJDADA" title="a list and description of the commnad line options for running crf.bat">Table 10-2</a>.</p>
<div class="tblformal" id="GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D__CACJDADA">
<p class="titleintable">Table 10-2 Case Sensitive Command Line Options for cref.bat</p>
<table class="cellalignment12" title="Case Sensitive Command Line Options for cref.bat" summary="a list and description of the commnad line options for running crf.bat">
<thead>
<tr class="cellalignment2">
<th class="cellalignment85" id="d33893e137">Option</th>
<th class="cellalignment86" id="d33893e140">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e145" headers="d33893e137">
<p><code class="codeph">[-t0 | -t1 | -tdual]</code></p>
</td>
<td class="cellalignment88" headers="d33893e145 d33893e140">
<p>Specifies the RE version to run according to the desired protocol (see <a href="overview-using-reference-implementation.htm#GUID-85FA84F3-ADE3-4560-9947-CD96B2A1A58D__CACEJDCA" title="list and description of the protocols supported by the re executables.">Table 10-1</a>). Defaults to -<code class="codeph">tdual</code> to call <code class="codeph">cref_tdual.exe</code> if not specified.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e164" headers="d33893e137">
<p><code class="codeph">-b</code></p>
</td>
<td class="cellalignment88" headers="d33893e164 d33893e140">
<p>Dumps a bytecode histogram at the end of the execution.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e173" headers="d33893e137">
<p><code class="codeph">-e</code></p>
</td>
<td class="cellalignment88" headers="d33893e173 d33893e140">
<p>Displays the program counter and stack when an exception occurs.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e182" headers="d33893e137">
<p><code class="codeph">-h</code>, <code class="codeph">-help</code></p>
</td>
<td class="cellalignment88" headers="d33893e182 d33893e140">
<p>Prints a help screen.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e193" headers="d33893e137">
<p><code class="codeph">-i</code> <span class="italic">input-file-name</span></p>
</td>
<td class="cellalignment88" headers="d33893e193 d33893e140">
<p>Specifies a file to initialize EEPROM. There can be no spaces in the file name argument.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e204" headers="d33893e137">
<p><code class="codeph">-n</code></p>
</td>
<td class="cellalignment88" headers="d33893e204 d33893e140">
<p>Performs a trace display of the native methods that are invoked.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e213" headers="d33893e137">
<p><code class="codeph">-nobanner</code></p>
</td>
<td class="cellalignment88" headers="d33893e213 d33893e140">
<p>Suppresses the printing of a program banner.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e222" headers="d33893e137">
<p><code class="codeph">-nomeminfo</code></p>
</td>
<td class="cellalignment88" headers="d33893e222 d33893e140">
<p>Suppresses the printing of memory statistics when execution starts.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e230" headers="d33893e137">
<p><code class="codeph">-o</code> <span class="italic">output-filename</span></p>
</td>
<td class="cellalignment88" headers="d33893e230 d33893e140">
<p>Saves the EEPROM contents to the named file.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e241" headers="d33893e137">
<p><code class="codeph">-e2pfile</code> <span class="italic">file-name</span></p>
</td>
<td class="cellalignment88" headers="d33893e241 d33893e140">
<p>Specifies the EEPROM file. If the file exists it is read to initialize the EEPROM image. All <code class="codeph">e2pfile</code> images are written to this file. This option is the same as combining <code class="codeph">-i</code> and <code class="codeph">-o</code> into one.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e261" headers="d33893e137">
<p><code class="codeph">-p</code> <span class="italic">port-number</span></p>
</td>
<td class="cellalignment88" headers="d33893e261 d33893e140">
<p>Connects to a TCP/IP port using the specified <span class="italic">port-number</span>.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e276" headers="d33893e137">
<p><code class="codeph">-contactedport</code> <span class="italic">port-number</span></p>
</td>
<td class="cellalignment88" headers="d33893e276 d33893e140">
<p>Connects to a TCP/IP port using the specified <span class="italic">port-number</span>.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e290" headers="d33893e137">
<p><code class="codeph">-s</code></p>
</td>
<td class="cellalignment88" headers="d33893e290 d33893e140">
<p>Suppresses output. Does not create any output unless followed by other flag options.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e299" headers="d33893e137">
<p><code class="codeph">-t</code></p>
</td>
<td class="cellalignment88" headers="d33893e299 d33893e140">
<p>Performs a line-by-line trace display of the mask's execution.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e308" headers="d33893e137">
<p><code class="codeph">-version</code></p>
</td>
<td class="cellalignment88" headers="d33893e308 d33893e140">
<p>Prints only the program's version number. Do not execute.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment87" id="d33893e317" headers="d33893e137">
<p><code class="codeph">-z</code></p>
</td>
<td class="cellalignment88" headers="d33893e317 d33893e140">
<p>Prints the resource consumption statistics.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1">
<tr>
<td class="cellalignment8">
<table class="cellalignment6">
<tr>
<td class="cellalignment5"><a href="using-reference-implementation.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5"><a href="running-ri.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;1998, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment10">
<table class="cellalignment4">
<tr>
<td class="cellalignment5"><a href="../index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
